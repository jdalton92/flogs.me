(this["webpackJsonpflogs.me"]=this["webpackJsonpflogs.me"]||[]).push([[0],{236:function(e,t,a){e.exports=a.p+"static/media/flogs.ab973dba.jpg"},237:function(e,t,a){e.exports=a.p+"static/media/unhappy-stick-figure.b123b295.png"},238:function(e,t,a){e.exports=a.p+"static/media/happy-stick-figure.48ec2d4d.png"},242:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAvCAYAAAChd5n0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAZiS0dEAP8A/wD/oL2nkwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0wNi0yOVQxMjo0MTo1MSswODowMMni6bsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTYtMDQtMTZUMTU6MzE6MjgrMDg6MDAG9CwZAAAAVHRFWHRzdmc6YmFzZS11cmkAZmlsZTovLy9ob21lL2RiL3N2Z19pbmZvL3N2Zy8yYS9lZC8yYWVkMWQ3M2ZhYmIxNjhlYjVmMGI2NzJjNzg4OGZlZi5zdmdkur2pAAAEPklEQVRoQ9WZO0gzQRDHJ1GjIBFFFFRQDGhhYSM+CgWJNj4RS7XQxlJEEDsrK0EbQcFWtBREjSARTGljoQi+QGx8gKjx/b5v53aSu9tLzOMuX7wfjPff271zZ2d3by4HUoKZnJyUKisrJYfDITmdTqmpqUnyeDxUax4Jc+Ti4kICgLDmcrmopTnY8A+7senYbDZS4SkrK4Pj42MqGcNOR1NpaWkh9TsnJyewurpKJYPIcTEZvK3acI08Pj5Kl5eXUl5enqaupqaGrjKG6Y6cn59rOoqmJtTaMQPTp1aktVFQUEBK4efnh1T8mO7I7e0tqeg5PT0lFT+mO7K7u0uKk5+fT0qhqKiIFOfm5oZU/JjuyMrKCilOdXU1KYWMjAxSnK+vL1Lxk3BHOjs7SSm8vLyQ4mRmZpIyAC16U5ibm4tqRxLb4E5mFFMdETvY0NBANVrEdmZgmiP19fW6Dp6dnVGtgtfr1bRJT0+nGmOY4sjQ0JCmc2iY5Yaiv79f0667u5tqjGHYkZ6eHk3HAhYOsZ3P56MaY8Sd/bK8CSoqKuD+/p7OKBwdHUF5eTmVFJaWlqC3t5dKnK6uLvnJru6GmB0EytgmJycHGhsbgUVWPhcEHYmFra0tqa6uTjOqatvc3KSWelJTU0NeE68tLi7SnSkio6OjcHV1BewfBUcGj2g4Gnd3d7C3twcsIZTrwrGzswMsm6WSnmjeUWJlamoKRkZGANxut87TWA1T88/PTxyTX/ktkkbM7/dLOERYiJuFhQXo6+ujUmSWl5fh+voaUlJS6Iw2+8WoMZ+DMyMAltPS0mB/fx9mZmboLGdwcBBwOmm8i8Ywiuvr6zjISWF+fl7Tn5KSEsmGjqiTtrGxMXln+P7+BqfTCbOzs3B4eEi1qjmZRHDHLCwspBLlamJEHh4eyG8O2x419ePj41STPNg2rulTaWmp/g3x6emJFIctYlIcu930hDlm1tbWSHGam5vBzhykonUQHWHpUGJ+Dko0bPqT4sgRIR2WvxYxllmQUsjNzY09Iol4OseCx+MhxWEPWflouanFnl+kOK2trfJR50iyRzwSmFmrCToS6xpIpqMHBwekFKqqquSjpaaWuD6Ki4tJReHIX9q1REfa29tJWSwi29vbpDjqzxc6RyKlIMlaI/hyJ6KJiFVSFDEtwbdZNZZZI+L66OjoIMWxjCNiRALPjwCWWezi60VbWxspjs6RSIs5Ge8jXq+XlIL45UvXK/WPAojY8WQ4srGxQYpTW1tLSkG3a/n9fnh/f4fn52e5LH6EeXt7k49YH8rw20c4e319DWt4X9EQn88H09PTsg6AvzSK4Dyyxv6rAp8p2dnZVOL8/3likOHhYZ0TMllZWRgRS9jAwABbCaGx4Qd+/GCJ89vhcLD27IoQzw5cK+JGEIpQ14pE0wb5+PiQR9/tdsPExAS4XC6qEQH4BwrruGvB4vALAAAAAElFTkSuQmCC"},243:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAvCAMAAACWqWnGAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAY9QTFRF////3d3dWVlZFxcXBwcHDQ0NDg4ODw8PDAwMEBAQERERCwsLFhYW4eHhYWFhAAAAcHBw7+/vd3d3wMDA9/f39vb29fX19PT0f39/RUVF+Pj43t7eNzc3cnJyh4eHSUlJ7e3tAQEBu7u7hYWFR0dH6urq5ubmg4OD6enpm5ubUVFRWFhYSEhIBAQEoqKi7u7uAgICs7OzgoKC5+fnampqQEBAHh4eioqKSkpK1NTUzMzMgYGBAwMDJycnODg4vLy8gICA7OzsS0tLqKioZWVlWlpaISEhpqamfn5+UFBQ8vLyjY2NKCgokpKSiIiIHx8fmpqatbW1QkJCZmZmbW1tlZWVlpaWl5eXmJiYmZmZra2to6Oj8fHx+/v7FRUVycnJTU1NXl5eXV1dX19fYGBgXFxcdHR0paWlurq6vb29n5+fTk5OT09P2dnZwcHBUlJSQ0NDbm5u39/fPDw8PT09GRkZIyMjxcXFGxsbnp6e0NDQ/f394uLiNjY28/PzLi4usrKyJSUlIiIitra2BgYGJc7sPQAAAfdJREFUeJyV1flDEkEUB/BXISpI65GhVl4YWUGHeJQVFd5aeZUbqYSBUgIe3R5ppX+4783MLiMoM/v9Yd9zeR93dl1GAJ4LFy+5Kuy4rVRaqaqmeDzeGp8Qlw3tuLmo1ReGwUSdE8FJPXUNcIXSyHOVx88CTfh5M/hbrtnkOjY3oExacaANazvWDnaGbGc5EsCBLqw3LRK0L3debgnSbZHb2FQ5I3ewuaskIZmEsbmnJG0yoVu5r00eYH2ovHvoESQiSC/WPmekH+uAmjySCK3rsSMyqL4VeCKRp/w3PNMkQU6iqneylNC6nivIi1PkpcatMBKzyZBhf511yTAeR5yQMIzicUxFxnFoAuskI148BlVkCodevQ68qWdkGo8z5cHsnLzBhGGeytuZdwsY871pmvF4fOGDBBZLNqWlM/eqqAWWE8UfzfF1lkaIj9bP08mVTyupVHp1jU5nzhBhLj6La34pub/1VDaXy2KSyWR2goYy7HyegWrlA90orIsJ5d8ZYBPH0qzbIrGtFuAyxJv9lcQ3DQH2ur5LT65sChs0NaYOoa3gBzVx3YuwB/aTmhg2OS3yCyd/U1ODzY4WyVvrobqrRfZksq9F2GhQVJ9ymuUPjiYiB4faDwzgb+F9DmkS+Ff8pdHIfyGUL72Uo62K48Nz/+WcAM3XYmx8dPbiAAAAAElFTkSuQmCC"},244:function(e,t,a){e.exports=a.p+"static/media/delete.2773d06e.png"},289:function(e,t,a){e.exports=a(753)},751:function(e,t,a){},753:function(e,t,a){"use strict";a.r(t);var n,l,r,o,c,s,i,m,u,d,g,b,p,f,E,h,v,w,y,N,j,x,O,k,C,A,B,S,I,F,D=a(14),_=a(0),M=a.n(_),q=a(157),$=a(103),T=a.n($),L=a(24),U=a(4),Q=a(759),R=a(760),G=a(10),P=a(768),H=Object(P.a)(n||(n=Object(G.a)(["\n  fragment UserDetails on User {\n    name\n    email\n    _id\n  }\n"]))),W=Object(P.a)(l||(l=Object(G.a)(["\n  mutation createUser($name: String!, $email: String!, $password: String!) {\n    createUser(name: $name, email: $email, password: $password) {\n      value\n    }\n  }\n"]))),Y=Object(P.a)(r||(r=Object(G.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      value\n    }\n  }\n"]))),K=Object(P.a)(o||(o=Object(G.a)(["\n  mutation updateUserPassword($password: String!, $newPassword: String!) {\n    updateUserPassword(password: $password, newPassword: $newPassword) {\n      value\n    }\n  }\n"]))),Z=Object(P.a)(c||(c=Object(G.a)(["\n  mutation updateUserEmail($newEmail: String!) {\n    updateUserEmail(newEmail: $newEmail) {\n      value\n    }\n  }\n"]))),V=Object(P.a)(s||(s=Object(G.a)(["\n  mutation updateUserSubscription($subscribe: Boolean!) {\n    updateUserSubscription(subscribe: $subscribe) {\n      subscribed\n    }\n  }\n"]))),J=Object(P.a)(i||(i=Object(G.a)(["\n  query {\n    getMe {\n      _id\n      name\n      email\n      userType\n      subscribed\n    }\n  }\n"]))),z=Object(P.a)(m||(m=Object(G.a)(["\n  query getUser($userId: ID!) {\n    getUser(userId: $userId) {\n      ...UserDetails\n      userType\n      subscribed\n      blogs {\n        _id\n        author {\n          name\n        }\n        title\n        category\n        date\n        slug\n        comments {\n          _id\n        }\n      }\n      comments {\n        _id\n        likes\n        dislikes\n        title\n        blog {\n          title\n          slug\n        }\n      }\n      savedBlogs {\n        _id\n        title\n        category\n        date\n        slug\n        author {\n          name\n        }\n        comments {\n          _id\n        }\n      }\n    }\n  }\n  ","\n"])),H),X=Object(P.a)(u||(u=Object(G.a)(["\n  fragment BlogDetails on Blog {\n    _id\n    title\n    slug\n    date\n    featured\n    author {\n      _id\n      name\n      userType\n    }\n    category\n    tags\n  }\n"]))),ee=Object(P.a)(d||(d=Object(G.a)(["\n  query getAllBlogs($sort: String) {\n    getAllBlogs(sort: $sort) {\n      ...BlogDetails\n      comments {\n        _id\n      }\n    }\n  }\n  ","\n"])),X),te=Object(P.a)(g||(g=Object(G.a)(["\n  query getBlogs($category: String, $sort: String, $page: Int, $limit: Int) {\n    getBlogs(category: $category, sort: $sort, page: $page, limit: $limit) {\n      pagesCount\n      resultsCount\n      currentPage\n      nextPage\n      previousPage\n      results {\n        ...BlogDetails\n        comments {\n          _id\n        }\n      }\n    }\n  }\n  ","\n"])),X),ae=Object(P.a)(b||(b=Object(G.a)(["\n  query searchBlogs(\n    $searchTerm: String\n    $sort: String\n    $page: Int\n    $limit: Int\n  ) {\n    searchBlogs(\n      searchTerm: $searchTerm\n      sort: $sort\n      page: $page\n      limit: $limit\n    ) {\n      pagesCount\n      resultsCount\n      currentPage\n      nextPage\n      previousPage\n      results {\n        ...BlogDetails\n        comments {\n          _id\n        }\n      }\n    }\n  }\n  ","\n"])),X),ne=Object(P.a)(p||(p=Object(G.a)(["\n  mutation favoriteBlog($blogId: ID!) {\n    favoriteBlog(blogId: $blogId) {\n      _id\n    }\n  }\n"]))),le=Object(P.a)(f||(f=Object(G.a)(["\n  query getBlog($slug: String!) {\n    getBlog(slug: $slug) {\n      ...BlogDetails\n      content\n      img\n      similarBlogs {\n        _id\n        slug\n        title\n        date\n        author {\n          _id\n          name\n        }\n        comments {\n          _id\n        }\n      }\n      comments {\n        _id\n      }\n    }\n  }\n  ","\n"])),X),re=Object(P.a)(E||(E=Object(G.a)(["\n  mutation createBlog(\n    $title: String!\n    $slug: String!\n    $category: String!\n    $tags: [String!]!\n    $content: String!\n    $img: String\n    $similarBlogs: [ID]\n  ) {\n    createBlog(\n      title: $title\n      slug: $slug\n      category: $category\n      tags: $tags\n      content: $content\n      img: $img\n      similarBlogs: $similarBlogs\n    ) {\n      ...BlogDetails\n    }\n  }\n  ","\n"])),X),oe=Object(P.a)(h||(h=Object(G.a)(["\n  mutation updateBlog(\n    $_id: ID!\n    $title: String!\n    $slug: String!\n    $category: String!\n    $tags: [String!]!\n    $content: String!\n    $img: String\n    $similarBlogs: [ID]\n  ) {\n    updateBlog(\n      _id: $_id\n      title: $title\n      slug: $slug\n      category: $category\n      tags: $tags\n      content: $content\n      img: $img\n      similarBlogs: $similarBlogs\n    ) {\n      ...BlogDetails\n    }\n  }\n  ","\n"])),X),ce=(Object(P.a)(v||(v=Object(G.a)(["\n  subscription {\n    commentAdded {\n      _id\n    }\n  }\n"]))),Object(P.a)(w||(w=Object(G.a)(["\n  query getFeaturedBlogs($top: Int!, $field: String!, $order: String!) {\n    getFeaturedBlogs(top: $top, field: $field, order: $order) {\n      title\n      date\n      slug\n      category\n      comments {\n        _id\n      }\n      author {\n        _id\n        name\n      }\n    }\n  }\n"])))),se=Object(P.a)(y||(y=Object(G.a)(["\n  mutation deleteBlog($blogId: ID!) {\n    deleteBlog(blogId: $blogId)\n  }\n"]))),ie=Object(P.a)(N||(N=Object(G.a)(["\n  mutation featureBlog($blogId: [ID!], $type: String!) {\n    featureBlog(blogId: $blogId, type: $type)\n  }\n"]))),me=Object(_.createContext)(null),ue=a(773),de=function(e){var t=e.children,a=Object(Q.a)(J),n=a.loading,l=a.error,r=a.data,o=a.refetch,c=Object(_.useState)({}),s=Object(U.a)(c,2),i=s[0],m=s[1],u=Object(R.a)(ae),d=Object(U.a)(u,2),g=d[0],b=d[1],p=b.data,f=b.error,E=b.loading,h=Object(R.a)(te),v=Object(U.a)(h,2),w=v[0],y=v[1],N=y.data,j=y.error,x=y.loading,O=Object(_.useState)(""),k=Object(U.a)(O,2),C=k[0],A=k[1],B=Object(_.useState)([]),S=Object(U.a)(B,2),I=S[0],F=S[1],D=Object(_.useState)(!1),q=Object(U.a)(D,2),$=q[0],T=q[1],G=Object(_.useState)(!1),P=Object(U.a)(G,2),H=P[0],W=P[1],Y=Object(_.useState)("landing"),K=Object(U.a)(Y,2),Z=K[0],V=K[1],z=Object(_.useState)(!1),X=Object(U.a)(z,2),ee=X[0],ne=X[1];return M.a.createElement(me.Provider,{value:{notifications:I,setNotification:function(e){var t=e.type,a=e.title,n=e.message;return F([].concat(Object(L.a)(I),[{type:t,title:a,message:n.replace("GraphQL error: ",""),id:Object(ue.a)()}]))},removeNotification:function(e){var t=I.filter((function(t){return t.id!==e}));F(t)},open:$,setOpen:T,dropdown:H,setDropdown:W,loginView:Z,setLoginView:V,meLoading:n,meError:l,meData:r,meRefetch:o,search:C,setSearch:A,searchBlogs:g,searchBlogsData:p,searchBlogsError:f,searchBlogsLoading:E,blog:i,setBlog:m,getBlogs:w,getBlogsData:N,getBlogsError:j,getBlogsLoading:x,showEditBlogModal:ee,setShowEditBlogModal:ne}},t)},ge=a(770),be=a(769),pe=a(771),fe=a(767),Ee=a(256),he=a(16),ve=a(17),we=function(e){var t=Object(_.useContext)(me),a=t.meError,n=t.meLoading,l=t.meData;return a||n||null===l.getMe?M.a.createElement(ve.a,{to:"/"}):M.a.createElement(ve.b,e)},ye=function(){var e=Object(ve.g)().location.pathname;return Object(_.useEffect)((function(){try{window.scroll({top:0,left:0,behavior:"smooth"})}catch(e){window.scrollTo(0,0)}}),[e]),null},Ne=a(229),je=function(){var e=Object(_.useContext)(me).blog,t=Object(_.useState)("flogs.me"),a=Object(U.a)(t,2),n=a[0],l=a[1],r=Object(ve.h)().pathname;return Object(_.useEffect)((function(){var t,a=null===e||void 0===e||null===(t=e.getBlog)||void 0===t?void 0:t.title;l("flogs.me".concat(a&&r.includes("/blog/")?" | ".concat(a):""))}),[r]),M.a.createElement(Ne.a,null,M.a.createElement("title",null,n))},xe=function(){return M.a.createElement("div",{style:{height:"80vh"}},M.a.createElement("h2",{style:{textAlign:"center",paddingTop:"35px"}},"invalid url"))},Oe=function(e){var t=e.notification,a=Object(_.useState)(!1),n=Object(U.a)(a,2),l=n[0],r=n[1],o=Object(_.useContext)(me).removeNotification,c=t.title,s=t.message,i=t.type;return M.a.createElement("div",{className:"flex-col-center p10 box-shadow-hover notification-alert-wrapper ".concat(l?"notification-alert-close":"")},M.a.createElement("div",{className:"flex-row w100 notification-subheader-wrapper"},M.a.createElement("div",{className:"notification-".concat(i," flex-7 notification-subheader")},c),M.a.createElement("div",{className:"flex-1 flex-row notification-close-wrapper"},M.a.createElement("div",{onClick:function(e){e.preventDefault(),r(!0),setTimeout((function(){return o(t.id)}),250)},className:"flex-row-center notification-close"},"x"))),M.a.createElement("div",{className:"w100 notification-message"},s))},ke=function(){var e=Object(_.useContext)(me).notifications;return M.a.createElement("div",{className:"flex-col notification-wrapper m10"},e.length>0?e.map((function(e,t){return M.a.createElement(Oe,{key:t,notification:e})})):null)},Ce=function(e){var t=e.viewType,a=Object(_.useContext)(me).setOpen,n=Object(ve.g)(),l=function(e){a(!1),n.push(e)};return M.a.createElement("ul",{className:"nav-items-".concat(t)},M.a.createElement("li",{onClick:function(){return l("/money")}},"money"),M.a.createElement("li",{onClick:function(){return l("/lifestyle")}},"lifestyle"),M.a.createElement("li",{onClick:function(){return l("/technology")}},"technology"),M.a.createElement("li",{onClick:function(){return l("/tools")}},"tools"),M.a.createElement("li",{onClick:function(){return l("/faq")}},"faq"),M.a.createElement("li",{onClick:function(){return l("/contact")}},"contact"))},Ae=a(113),Be=Ae.a.button(j||(j=Object(G.a)(["\n  left: 2rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  width: 2rem;\n  height: 2rem;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  z-index: -1;\n  &:focus {\n    outline: none;\n  }\n  div {\n    z-index: -1;\n    width: 2rem;\n    height: 0.25rem;\n    background: black;\n    border-radius: 10px;\n    transition: all 0.3s linear;\n    position: relative;\n    transform-origin: 1px;\n    :first-child {\n      transform: ",";\n    }\n    :nth-child(2) {\n      opacity: ",";\n      transform: ",";\n    }\n    :nth-child(3) {\n      transform: ",";\n    }\n  }\n"])),(function(e){return e.open?"rotate(45deg)":"rotate(0)"}),(function(e){return e.open?"0":"1"}),(function(e){return e.open?"translateX(20px)":"translateX(0)"}),(function(e){return e.open?"rotate(-45deg)":"rotate(0)"})),Se=Ae.a.nav(x||(x=Object(G.a)(["\n  position: fixed;\n  background: white;\n  transform: ",";\n  height: 100vh;\n  padding: 2rem;\n  top: 0;\n  left: 0;\n  z-index: 1;\n  transition: transform 0.6s ease-in-out;\n  overflow: hidden;\n  .menu-link-container {\n      display: flex;\n      flex-direction: column;\n      height: 80%;\n      justify-content: space-evenly;\n      align-items: center;\n  }\n  .dropdown-menu {\n      display: flex;\n      flex-direction: column;\n  }\n  .dropdown-burger-item {\n      align-text: center;\n  }\n  @media (max-width: 768px) {\n      width: 50%;\n      }\n  @media (max-width: 500px) {\n      width: 100%;\n      }  \n  }\n"])),(function(e){return e.open?"translateX(0)":"translateX(-100%)"})),Ie=Ae.a.div(O||(O=Object(G.a)(["\n  z-index: 1;\n  border-bottom: ",";\n  border-bottom-style: solid;\n  border-bottom-color: black;\n  width: ",";\n  margin: 0 auto 0 auto;\n"])),(function(e){var t=e.thickness;return t?"".concat(t):"1px"}),(function(e){return e.width})),Fe=function(){var e=Object(_.useContext)(me),t=e.open,a=e.setOpen;return M.a.createElement("div",{className:"nav-burger-wrapper"},M.a.createElement(Be,{open:t,onClick:function(){return a(!t)}},M.a.createElement("div",null),M.a.createElement("div",null),M.a.createElement("div",null)))},De=a(15),_e=a.n(De),Me=a(27),qe=a(774),$e=function(){var e=Object(_.useState)(""),t=Object(U.a)(e,2),a=t[0],n=t[1],l=Object(_.useState)(""),r=Object(U.a)(l,2),o=r[0],c=r[1],s=Object(_.useContext)(me),i=s.meRefetch,m=s.setLoginView,u=s.setNotification,d=Object(qe.a)(Y),g=Object(U.a)(d,2),b=g[0],p=g[1].loading,f=function(){var e=Object(Me.a)(_e.a.mark((function e(t){var l,r;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,b({variables:{email:a,password:o}});case 4:l=e.sent,r=l.data,localStorage.setItem("flogsToken",r.login.value),i(),m("landing"),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),u({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:e.t0.message}),n(""),c("");case 17:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return p?M.a.createElement("div",{className:"loader-spinner loading-wrapper"},"loading..."):M.a.createElement("form",{className:"nav-login-form",onSubmit:f},M.a.createElement("input",{className:"box-shadow-3",value:a,onChange:function(e){var t=e.target;return n(t.value)},placeholder:"your@email.com",type:"email",required:!0}),M.a.createElement("input",{className:"box-shadow-3",value:o,onChange:function(e){var t=e.target;return c(t.value)},placeholder:"password",type:"password",minLength:3,required:!0}),M.a.createElement("div",{className:"flex-row box-shadow-3"},M.a.createElement("button",{className:"primary-btn",type:"submit"},"login"),M.a.createElement("button",{className:"secondary-btn nav-cancel-btn box-shadow-3",onClick:function(){return m("landing")},type:"button"},"cancel")))},Te=function(e){var t=Object(_.useRef)(null);return function(e){var t=Object(_.useContext)(me),a=t.dropdown,n=t.setDropdown,l=function(t){e.current&&!e.current.contains(t.target)&&a&&n(!1)};Object(_.useEffect)((function(){return document.addEventListener("mousedown",l),function(){document.removeEventListener("mousedown",l)}}))}(t),M.a.createElement("div",{ref:t},e.children)},Le=function(){var e=Object(_.useContext)(me),t=e.dropdown,a=e.setDropdown,n=e.setLoginView,l=e.meData,r=e.meLoading,o=e.loginLoading,c=e.meRefetch,s=Object(ve.g)(),i=function(e){a(!1),s.push(e)};return r||o?M.a.createElement("div",{className:"loader-spinner loading-wrapper"},"loading..."):M.a.createElement(M.a.Fragment,null,void 0!==l&&l.getMe?M.a.createElement("div",{className:"h100 nav-user-wrapper"},M.a.createElement(Te,null,M.a.createElement("div",{onClick:function(e){e.preventDefault(),a(!t)},className:"flex-col-center nav-user-container"},M.a.createElement("div",{className:"w100 flex-row nav-user-icon-wrapper"},M.a.createElement("div",{alt:"user",title:"user",className:"user-icon"}),M.a.createElement("i",{className:"navbar-arrow-down"})),M.a.createElement("div",{className:"nav-user-name"},l.getMe.name)),M.a.createElement("div",{className:"".concat(t?"nav-dropdown-wrapper-show":"nav-dropdown-wrapper-shrink"," nav-dropdown-wrapper")},M.a.createElement("div",{className:"".concat(t?"nav-dropdown-show":"nav-dropdown-shrink"," flex-col-center nav-dropdown")},M.a.createElement("div",{onClick:function(){return i("/user/".concat(l.getMe._id))},className:"flex-1 w100 flex-row-center nav-link"},"account summary"),M.a.createElement("div",{onClick:function(){return i("/settings")},className:"flex-1 w100 flex-row-center nav-link"},"account settings"),"admin"===l.getMe.userType&&M.a.createElement("div",{onClick:function(){return i("/blog-admin")},className:"flex-1 w100 flex-row-center nav-link"},"blog admin"),M.a.createElement("div",{onClick:function(e){e.preventDefault(),localStorage.removeItem("flogsToken"),c(),a(!1),n("landing")},className:"flex-1 w100 flex-row-center nav-link"},"logout"))))):M.a.createElement(M.a.Fragment,null,M.a.createElement("button",{className:"primary-btn login-btn box-shadow-3",onClick:function(){return n("login")}},"login"),M.a.createElement("button",{className:"secondary-btn signup-btn box-shadow-3",onClick:function(){return n("signUp")}},"sign up")))},Ue=function(){var e=Object(_.useContext)(me),t=e.meRefetch,a=e.setLoginView,n=e.setNotification,l=Object(_.useState)(""),r=Object(U.a)(l,2),o=r[0],c=r[1],s=Object(_.useState)(""),i=Object(U.a)(s,2),m=i[0],u=i[1],d=Object(_.useState)(""),g=Object(U.a)(d,2),b=g[0],p=g[1],f=Object(qe.a)(W),E=Object(U.a)(f,2),h=E[0],v=E[1].loading,w=function(){var e=Object(Me.a)(_e.a.mark((function e(l){var r,s;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.preventDefault(),e.prev=1,e.next=4,h({variables:{name:o,email:m,password:b}});case 4:r=e.sent,s=r.data,localStorage.setItem("flogsToken",s.createUser.value),t(),a("landing"),n({type:"success",title:"\u30fd(\u2022\u203f\u2022)\u30ce",message:"account created"}),e.next=19;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),n({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:e.t0.message}),c(""),u(""),p("");case 19:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return v?M.a.createElement("div",{className:"loader-spinner loading-wrapper"},"loading..."):M.a.createElement("form",{className:"nav-signup-form",onSubmit:w},M.a.createElement("input",{className:"box-shadow-3",value:o,onChange:function(e){var t=e.target;return c(t.value)},placeholder:"full name",type:"text",required:!0}),M.a.createElement("input",{className:"box-shadow-3",value:m,onChange:function(e){var t=e.target;return u(t.value)},placeholder:"your@email.com",type:"email",required:!0}),M.a.createElement("input",{className:"box-shadow-3",value:b,onChange:function(e){var t=e.target;return p(t.value)},placeholder:"password",type:"password",minLength:3,required:!0}),M.a.createElement("div",{className:"flex-row"},M.a.createElement("button",{className:"primary-btn box-shadow-3",type:"submit"},"sign up"),M.a.createElement("button",{className:"secondary-btn nav-cancel-btn box-shadow-3",onClick:function(){return a("landing")},type:"button"},"cancel")))},Qe=function(){var e=Object(_.useContext)(me),t=e.open,a=e.loginView,n=e.meData,l=Object(ve.g)(),r=function(e){l.push(e)};return M.a.createElement("nav",{className:"flex-col-center"},M.a.createElement("div",{className:"w100 logo-wrapper flex-row"},M.a.createElement("h1",{title:"flogs.me",onClick:function(){return r("/")}},"flogs.me"),M.a.createElement("div",{className:"login-wrapper ".concat(void 0!==n&&n.getMe?"login-wrapper-loggedin":"")},"landing"===a&&M.a.createElement(Le,null),"signUp"===a&&M.a.createElement(Ue,null),"login"===a&&M.a.createElement($e,null))),M.a.createElement("div",{className:"flex-row-center nav-items-wrapper"},M.a.createElement(Fe,null),M.a.createElement(Se,{open:t},M.a.createElement("div",{className:"flex-row-center"},M.a.createElement(Fe,null)),M.a.createElement(Ce,{viewType:"mobile"})),M.a.createElement("ul",{className:"w100 flex-row-center nav-items"},M.a.createElement(Ce,{viewType:"desktop"})),M.a.createElement("div",{onClick:function(){return r("/blogs")},className:"nav-search-icon"})))},Re=a(236),Ge=a.n(Re),Pe=a(237),He=a.n(Pe),We=a(238),Ye=a.n(We),Ke=function(e){var t=e.title,a=e.dataObject,n=e.loading,l=e.error,r=e.noDataMessage,o=Object(ve.g)(),c=function(e){o.push(e)},s=function(e){var t=e.data;return 0===t.length?M.a.createElement("div",null,r):Object.keys(a)[0].toLowerCase().includes("blog")?M.a.createElement(M.a.Fragment,null,t.map((function(e,t){return M.a.createElement("div",{key:t,className:"featured-list-item"},M.a.createElement("div",{className:"featured-list-title"},M.a.createElement("h2",{className:"featured-list-link",onClick:function(){return c("/blog/".concat(e.slug))}},e.title)),M.a.createElement("div",{className:"featured-list-info"},M.a.createElement("span",null,"by:"," ",M.a.createElement("b",{className:"featured-list-link",onClick:function(){return c("/user/".concat(e.author._id))}},e.author.name)," "),M.a.createElement("span",null,"on: ",M.a.createElement("b",null,new Intl.DateTimeFormat("en-GB").format(e.date)))),M.a.createElement("div",{className:"featured-list-info"},M.a.createElement("span",null,"posted to:"," ",M.a.createElement("b",{className:"featured-list-link",onClick:function(){return c("/".concat(e.category))}},e.category))," ",M.a.createElement("span",null,"with:"," ",M.a.createElement("b",null,e.comments.length," ",1===e.comments.length?"comment":"comments"))))}))):M.a.createElement(M.a.Fragment,null,t.map((function(e,t){return M.a.createElement("div",{key:t,className:"featured-list-item"},M.a.createElement("div",{className:"featured-list-title"},M.a.createElement("h2",{className:"featured-list-link",onClick:function(){return c("/blog/".concat(e.blog.slug))}},e.title)),M.a.createElement("div",{className:"featured-list-info"},M.a.createElement("span",null,"blog:"," ",M.a.createElement("b",{className:"featured-list-link",onClick:function(){return c("/blog/".concat(e.blog.slug))}},e.blog.title," ")),M.a.createElement("span",null,"on: ",M.a.createElement("b",null,new Intl.DateTimeFormat("en-GB").format(e.date)))),M.a.createElement("div",{className:"featured-list-info"},M.a.createElement("span",null,"likes: ",M.a.createElement("b",null,e.likes)," "),M.a.createElement("span",null,"dislikes: ",M.a.createElement("b",null,e.dislikes))))})))};return M.a.createElement("div",{className:"featured-list-wrapper box-shadow-1"},M.a.createElement("div",{className:"featured-list-header"},M.a.createElement("h2",null,t),M.a.createElement(Ie,{width:"15%",thickness:"3px"})),M.a.createElement("div",{className:"featured-list-body"},n||l||void 0===a?M.a.createElement(M.a.Fragment,null,n&&M.a.createElement("div",{className:"loader-spinner"},"loading..."),l&&M.a.createElement("div",{style:{marginTop:"10px",textAlign:"center"}},"error loading data...")):M.a.createElement(M.a.Fragment,null,M.a.createElement(s,{data:Object.values(a)[0]}))))},Ze=function(){var e=Object(Q.a)(ce,{variables:{field:"comments",top:5,order:"descending"}}),t=e.data,a=e.error,n=e.loading,l=Object(Q.a)(ce,{variables:{field:"date",top:5,order:"descending"}}),r=l.data,o=l.error,c=l.loading,s=Object(Q.a)(ce,{variables:{field:"featured",top:5,order:"descending"}}),i=s.data,m=s.error,u=s.loading;return M.a.createElement("section",{className:"w100 h100 home-section"},M.a.createElement("div",{className:"w100 home-slogan-wrapper flex-row"},M.a.createElement("div",{className:"home-slogan-left"},M.a.createElement("h1",null,"flogs.me"),M.a.createElement("h3",null,"the blog for when you got nothin' else going on")),M.a.createElement("div",{className:"home-slogan-right"},M.a.createElement("img",{alt:"flogs.me",src:Ge.a,className:"home-slogan-img"}))),M.a.createElement("div",{className:"featured-lists-wrapper"},M.a.createElement(Ke,{title:"featured blogs",noDataMessage:"no featured blogs",dataObject:i,error:m,loading:u}),M.a.createElement(Ke,{title:"most commented blogs",noDataMessage:"no commented blogs",dataObject:t,error:a,loading:n}),M.a.createElement(Ke,{title:"most recent blogs",noDataMessage:"no blogs",dataObject:r,error:o,loading:c})),M.a.createElement("div",{className:"h100 home-img-wrapper"},M.a.createElement("div",{className:"h100 home-img-left"},M.a.createElement("h2",null,"you before flogs.me"),M.a.createElement("img",{alt:"unhappy",src:He.a,className:"home-img-unhappy"})),M.a.createElement("div",{className:"h100 home-img-right"},M.a.createElement("h2",null,"you after flogs.me"),M.a.createElement("img",{alt:"unhappy",src:Ye.a,className:"home-img-happy"}))),M.a.createElement(Ie,{width:"200px",thickness:"5px"}),M.a.createElement("div",{className:"flex-row-center w100 home-caption-wrapper"},M.a.createElement("h2",{className:"w100 home-caption"},"sign up now.")),M.a.createElement(Ie,{width:"200px",thickness:"5px"}))},Ve=function(){var e=Object(ve.g)(),t=Object(_.useContext)(me),a=t.search,n=t.setSearch,l=e.location.search;Object(_.useEffect)((function(){var e,t=null===(e=new URLSearchParams(l))||void 0===e?void 0:e.get("search");n(t?decodeURI(t):"")}),[]);return M.a.createElement("div",{className:"blog-search-wrapper"},M.a.createElement("form",{className:"w100 blog-search-form",onSubmit:function(t){t.preventDefault(),a&&e.push({pathname:"/blogs",search:"?search=".concat(encodeURI(a))})}},M.a.createElement("div",{className:"w100 flex-row"},M.a.createElement("input",{className:"w100 p5 box-shadow-3",value:a,name:"search",placeholder:"search title, tags, or category",type:"text",onChange:function(e){var t=e.target;return n(t.value)},maxLength:50}),M.a.createElement("button",{className:"primary-btn box-shadow-3",type:"submit",disabled:!a},"search"))))},Je=function(e){var t=e.blogs,a=e.queryParams,n=Object(ve.g)(),l=t.currentPage,r=t.pagesCount,o=t.resultsCount,c=Object(_.useContext)(me),s=c.getBlogs,i=c.searchBlogs,m=function(e){a.variables.page=e,n.location.search?i(a):s(a)},u=function(e,t){var a,n,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(t<=l)a=1,n=t;else{var r=Math.floor(l/2),o=Math.ceil(l/2)-1;e<=r?(a=1,n=l):e+o>=t?(a=t-l+1,n=t):(a=e-r,n=e+o)}var c=Array.from(Array(n+1-a).keys()).map((function(t){return{label:a+t,active:e===a+t,link:!0}}));return c.some((function(e){return e.label===t}))?c:c.concat({label:"...",active:!1,link:!1},{label:t,active:!1,link:!0})}(l,r);return M.a.createElement("div",{className:"paginator"},M.a.createElement("div",{className:"paginator-text flex-row-center"},function(){var e=a.variables.limit,t=(l-1)*e+1,n=Math.min(o,l*e);return"".concat(t," - ").concat(n," of ").concat(o)}()),M.a.createElement("div",{className:"flex-row"},M.a.createElement("button",{disabled:1===l,type:"button",className:"secondary-btn box-shadow-3 pr5 pl5",onClick:function(){return m(1)}},"<<"),M.a.createElement("button",{disabled:1===l,type:"button",className:"secondary-btn box-shadow-3 pr5 pl5",onClick:function(){return m(l-1)}},"<"),u.map((function(e,t){return M.a.createElement("button",{key:t,type:"button",disabled:!e.link,className:"secondary-btn box-shadow-3 pr5 pl5",onClick:function(){return m(e.label)}},e.label)})),M.a.createElement("button",{disabled:l===r,type:"button",className:"secondary-btn box-shadow-3 pr5 pl5",onClick:function(){return m(l+1)}},">"),M.a.createElement("button",{disabled:l===r,type:"button",className:"secondary-btn box-shadow-3 pr5 pl5",onClick:function(){return m(r)}},">>")))},ze=function(e){var t=e.blog,a=Object(_.useContext)(me).setNotification,n=t.title,l=t.slug,r=t.category,o=t.date,c=t.author,s=t.comments,i=t.tags,m=Object(ve.g)(),u=function(e){m.push(e)},d=new Intl.DateTimeFormat("en-GB").format(o);return M.a.createElement("div",{className:"p20 flex-col box-shadow-on-hover blogcard-wrapper box-shadow-3"},M.a.createElement("div",{className:"blogcard-header-wrapper"},M.a.createElement("h2",{onClick:function(){return u("/blog/".concat(l))},className:"blogcard-title"},n),M.a.createElement("div",{className:"blogcard-tags"},i.length>0?M.a.createElement(M.a.Fragment,null,"tags:"," ",i.map((function(e,t){return M.a.createElement("b",{key:t,className:"blogcard-link",onClick:function(){return u({pathname:"/blogs",search:"?search=".concat(e)})}},e,t===i.length-1?"":", ")}))):null)),M.a.createElement("div",{className:"blogcard-body"},M.a.createElement("div",{className:"blogcard-info"},M.a.createElement("span",null,"by:"," ",M.a.createElement("b",{onClick:function(){return u("/user/".concat(c._id))},className:"blogcard-link"},c.name," ")),M.a.createElement("span",null,"on: ",M.a.createElement("b",null,d))),M.a.createElement("div",{className:"blogcard-info"},M.a.createElement("span",null,"posted to:"," ",M.a.createElement("b",{onClick:function(){return function(e){m.location.pathname.toLowerCase().includes("blogs")?u(e):a({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"already looking at that category"})}(r)},className:"blogcard-link"},r)," "),M.a.createElement("span",null,"with:"," ",M.a.createElement("b",null,s.length," ",1===s.length?"comment":"comments")))))},Xe=function(e){var t,a=e.topic,n=Object(_.useContext)(me),l=n.setSearch,r=n.searchBlogs,o=n.searchBlogsData,c=n.searchBlogsLoading,s=n.searchBlogsError,i=n.getBlogs,m=n.getBlogsData,u=n.getBlogsLoading,d=n.getBlogsError,g=Object(ve.g)(),b=Object(_.useState)("-date"),p=Object(U.a)(b,2),f=p[0],E=p[1],h=g.location.search,v=null===(t=new URLSearchParams(h))||void 0===t?void 0:t.get("search"),w={variables:{sort:f,page:0,limit:5,category:a,searchTerm:decodeURI(v)}};Object(_.useEffect)((function(){h||l(""),y()}),[a,h,f]);var y=function(){if(w.variables.category=a,w.variables.sort=f,h){var e=new URLSearchParams(h).get("search");w.variables.searchTerm=decodeURI(e),r(w)}else i(w)},N=u||c,j=d||s||void 0===m&&void 0===o,x=h?null===o||void 0===o?void 0:o.searchBlogs:null===m||void 0===m?void 0:m.getBlogs;return M.a.createElement("section",{className:"blogs-section flex-row"},M.a.createElement("div",{className:"flex-col m-auto blogs-wrapper"},M.a.createElement(Ve,null),M.a.createElement("div",{className:"blogs-result-wrapper"},N&&M.a.createElement("div",{className:"loader-spinner"},"loading..."),!N&&j&&M.a.createElement("div",{className:"mt10 text-center"},"error loading blog data..."),!N&&!j&&M.a.createElement(M.a.Fragment,null,0===(null===x||void 0===x?void 0:x.resultsCount)&&M.a.createElement("div",{className:"pt25"},"no results..."),(null===x||void 0===x?void 0:x.resultsCount)>0&&M.a.createElement(M.a.Fragment,null,M.a.createElement("div",{className:"blogs-sort flex-row justify-space-between align-start"},M.a.createElement("select",{className:"box-shadow-3",onChange:function(e){E(e.target.value)},defaultValue:f},M.a.createElement("option",{value:"-date"},"newest"),M.a.createElement("option",{value:"date"},"oldest")),M.a.createElement(Je,{blogs:x,queryParams:w})),M.a.createElement("div",{className:"blogcards-wrapper"},x.results.map((function(e){return M.a.createElement(ze,{key:e._id,blog:e})}))))))))},et=a(239),tt=a.n(et),at=Object(P.a)(k||(k=Object(G.a)(["\n  query getComments($slug: String!) {\n    getComments(slug: $slug) {\n      _id\n      author {\n        _id\n        name\n      }\n      title\n      comment\n      date\n      likes\n      dislikes\n    }\n  }\n"]))),nt=Object(P.a)(C||(C=Object(G.a)(["\n  mutation createComment($blogId: ID!, $title: String!, $comment: String!) {\n    createComment(blogId: $blogId, title: $title, comment: $comment) {\n      title\n      author {\n        name\n      }\n      comment\n      likes\n      dislikes\n    }\n  }\n"]))),lt=Object(P.a)(A||(A=Object(G.a)(["\n  mutation likeComment($commentId: ID!) {\n    likeComment(commentId: $commentId) {\n      likes\n    }\n  }\n"]))),rt=Object(P.a)(B||(B=Object(G.a)(["\n  mutation dislikeComment($commentId: ID!) {\n    dislikeComment(commentId: $commentId) {\n      dislikes\n    }\n  }\n"]))),ot=Object(P.a)(S||(S=Object(G.a)(["\n  mutation deleteComment($commentId: ID!) {\n    deleteComment(commentId: $commentId)\n  }\n"]))),ct=function(){return M.a.createElement("button",{onClick:function(e){e.preventDefault();try{window.scroll({top:0,left:0,behavior:"smooth"})}catch(e){window.scrollTo(0,0)}},className:"primary-btn tool-top-btn box-shadow-3"},"top",M.a.createElement("i",{className:"tool-arrow-up"}))},st=a(772),it=a(766),mt=function(e){var t=e.value;return M.a.createElement(st.a,{language:"javascript",style:it.a},t)},ut=a(242),dt=a.n(ut),gt=a(243),bt=a.n(gt),pt=a(244),ft=a.n(pt),Et=function(e){var t=e.id,a=e.isAuthor,n=Object(ve.i)().slug,l=Object(_.useContext)(me),r=l.setNotification,o=l.meData,c=Object(qe.a)(ot),s=Object(U.a)(c,2),i=s[0],m=s[1],u=m.loading,d=m.error,g=Object(qe.a)(lt),b=Object(U.a)(g,2),p=b[0],f=b[1],E=f.loading,h=f.error,v=Object(qe.a)(rt),w=Object(U.a)(v,2),y=w[0],N=w[1],j=N.loading,x=N.error;return M.a.createElement("div",{className:"blog-like-wrapper"},u||E||j?M.a.createElement("div",{className:"loader-spinner blog-comment-loader"},"loading..."):M.a.createElement(M.a.Fragment,null,a&&M.a.createElement("img",{alt:"delete",className:"blog-comment-delete",onClick:function(){return function(e){if(o.getMe)try{i({variables:{commentId:e},refetchQueries:[{query:at,variables:{slug:n}}],awaitRefetchQueries:!0})}catch(t){console.log(t),console.log(d),r({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:t.message})}else r({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"log in to delete"})}(t)},title:"delete",src:ft.a}),M.a.createElement("img",{alt:"like",className:"blog-comment-like",onClick:function(){return function(e){if(o.getMe)try{p({variables:{commentId:e},refetchQueries:[{query:at,variables:{slug:n}}],awaitRefetchQueries:!0})}catch(t){console.log(h),r({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:t.message})}else r({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"log in to like"})}(t)},title:"like",src:dt.a}),M.a.createElement("img",{alt:"dislike",className:"blog-comment-dislike",onClick:function(){return function(e){if(o.getMe)try{y({variables:{commentId:e},refetchQueries:[{query:at,variables:{slug:n}}],awaitRefetchQueries:!0})}catch(t){console.log(x),r({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:t.message})}else r({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"log in to dislike"})}(t)},title:"dislike",src:bt.a})))},ht=function(e){var t=e.commentData,a=Object(_.useContext)(me).meData,n=Object(ve.g)(),l=Object(_.useState)("newest"),r=Object(U.a)(l,2),o=r[0],c=r[1],s=function(e){var t;return e.author._id===(null===(t=a.getMe)||void 0===t?void 0:t._id)},i=Object(L.a)(t.getComments);switch(o){case"newest":i.sort((function(e,t){return t.date-e.date}));break;case"oldest":i.sort((function(e,t){return e.date-t.date}));break;case"likes":i.sort((function(e,t){return t.likes-e.likes}));break;case"dislikes":i.sort((function(e,t){return t.dislikes-e.dislikes}));break;default:i=Object(L.a)(t.getComments)}return 0===i.length?M.a.createElement("div",null,"no comments..."):M.a.createElement(M.a.Fragment,null,M.a.createElement("div",{className:"blog-comments-sort"},M.a.createElement("select",{defaultValue:"newest",onChange:function(e){e.preventDefault(),c(e.target.value)}},M.a.createElement("option",{value:"newest"},"newest"),M.a.createElement("option",{value:"oldest"},"oldest"),M.a.createElement("option",{value:"likes"},"most likes"),M.a.createElement("option",{value:"dislikes"},"most dislikes"))),M.a.createElement("div",{className:"blog-comments-list-wrapper"},i.map((function(e){return M.a.createElement("div",{key:e._id,className:"p10 blog-comment-wrapper"},M.a.createElement("div",{className:"flex-col"},M.a.createElement("div",{className:"flex-row blog-comment-header"},M.a.createElement("div",{className:"blog-comment-title"},e.title),M.a.createElement(Et,{id:e._id,isAuthor:s(e)})),M.a.createElement("div",{className:"flex-row blog-comment-subheader"},M.a.createElement("div",{className:"blog-comment-author"},"by"," ",M.a.createElement("b",{className:"blog-comment-author-link",onClick:function(){return t=e.author._id,void n.push("/user/".concat(t));var t}},e.author.name)," ","on ",M.a.createElement("b",null,new Intl.DateTimeFormat("en-GB").format(e.date))))),M.a.createElement("div",{className:"blog-comment-detail"},e.comment),M.a.createElement("div",{className:"blog-comment-likes"},"likes: ",M.a.createElement("b",null,e.likes)," | dislikes: ",M.a.createElement("b",null,e.dislikes)))}))))},vt=function(e){var t=e.id,a=e.commentRef,n=Object(ve.i)().slug,l=Object(_.useContext)(me),r=l.setNotification,o=l.meData,c=Object(_.useState)(""),s=Object(U.a)(c,2),i=s[0],m=s[1],u=Object(_.useState)(""),d=Object(U.a)(u,2),g=d[0],b=d[1],p=Object(qe.a)(nt),f=Object(U.a)(p,2),E=f[0],h=f[1].error;return M.a.createElement("div",{className:"w100 blog-add-comment-wrapper"},M.a.createElement("form",{className:"w100 flex-col blog-add-comment-form",onSubmit:function(e){if(e.preventDefault(),o.getMe)try{E({variables:{blogId:t,title:i,comment:g},refetchQueries:[{query:at,variables:{slug:n}}],awaitRefetchQueries:!0}),m(""),b(""),r({type:"success",title:"\u30fd(\u2022\u203f\u2022)\u30ce",message:"comment added"})}catch(e){console.log(h),r({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:e.message})}else r({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"log in to comment"})}},M.a.createElement("input",{className:"box-shadow-3",ref:a,value:i,onChange:function(e){var t=e.target;return m(t.value)},type:"text",name:"title",placeholder:"title",maxLength:100,autoComplete:"off",required:!0}),M.a.createElement("textarea",{className:"box-shadow-3",value:g,onChange:function(e){var t=e.target;return b(t.value)},type:"text",name:"comment",placeholder:"comment",maxLength:500,autoComplete:"off",required:!0}),M.a.createElement("button",{className:"primary-btn box-shadow-3",type:"submit"},"add comment")))},wt=function(){var e,t,a,n,l=Object(_.useRef)(null),r=Object(ve.i)().slug,o=Object(ve.g)(),c=Object(_.useContext)(me),s=c.setNotification,i=c.meData,m=c.setBlog,u=Object(_.useState)(!1),d=Object(U.a)(u,2),g=d[0],b=d[1],p=Object(qe.a)(ne),f=Object(U.a)(p,2),E=f[0],h=f[1].error,v=Object(Q.a)(le,{variables:{slug:r},onCompleted:function(e){m(e)}}),w=v.data,y=v.error,N=v.loading,j=v.refetch,x=Object(Q.a)(at,{variables:{slug:r}}),O=x.data,k=x.error,C=x.loading;Object(_.useEffect)((function(){j()}),[r]),Object(_.useEffect)((function(){var e=function(){window.scrollY>350?b(!0):b(!1)};return window.addEventListener("scroll",e,{passive:!0}),function(){return window.removeEventListener("scroll",e)}}),[g]);var A,B,S,I,F,D={name:""};N||y||(t=w.getBlog._id,e=w.getBlog.title,a=w.getBlog.category,n=new Intl.DateTimeFormat("en-GB").format(w.getBlog.date),D=w.getBlog.author,A=w.getBlog.comments,B=w.getBlog.tags,S=w.getBlog.content,I=w.getBlog.img,F=w.getBlog.similarBlogs);var q=function(e){o.push(e)},$=function(){var e=Object(Me.a)(_e.a.mark((function e(a){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),i.getMe){e.next=4;break}return s({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"log in to save blog"}),e.abrupt("return");case 4:return e.prev=4,e.next=7,E({variables:{blogId:t}});case 7:s({type:"success",title:"\u30fd(\u2022\u203f\u2022)\u30ce",message:"blog saved, view account summary for saved blog list"}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),console.log(h),s({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),T=function(e){e.preventDefault(),l.current.focus()},L="flogs contributor";switch(D.userType){case"standard":L="flogs contributor";break;case"admin":L="flogs admin";break;default:L="flogs contributor"}return M.a.createElement("section",{className:"blog-section w100 h100"},M.a.createElement("div",{className:"".concat(g?"show-btn":"hide-btn"," blog-top-btn-wrapper")},M.a.createElement(ct,null)),M.a.createElement("div",{className:"flex-col-center blog-wrapper"},N||y?M.a.createElement(M.a.Fragment,null,N&&M.a.createElement("div",{className:"loader-spinner"},"loading..."),y&&M.a.createElement("div",{className:"mt10"},"error loading blog...")):M.a.createElement(M.a.Fragment,null,M.a.createElement("div",{className:"w100 blog-header-wrapper"},M.a.createElement("h2",{className:"blog-title"},e),M.a.createElement("div",{className:"m-auto blog-details"},M.a.createElement("span",null,"posted to:"," ",M.a.createElement("b",{className:"blog-details-link",onClick:function(){return q("/".concat(a))}},a)," ","|"," "),M.a.createElement("span",null,"posted on: ",M.a.createElement("b",null,n)," |"," "),M.a.createElement("span",null,"with:"," ",M.a.createElement("b",{className:"blog-details-link",onClick:T},A.length," ",1===A.length?"comment":"comments")," ","|"," "),M.a.createElement("span",null,B.length>0?M.a.createElement(M.a.Fragment,null,"tags:"," ",B.map((function(e,t){return M.a.createElement("b",{key:t,className:"blog-details-link",onClick:function(){return q({pathname:"/blogs",search:"?search=".concat(e)})}},e,t===B.length-1?"":", ")}))):null))),I?M.a.createElement("div",{className:"w100 blog-body-image-wrapper"},M.a.createElement("img",{className:"blog-body-image",alt:"img",src:I})):null,M.a.createElement("div",{className:"blog-body-wrapper"},M.a.createElement("div",{className:"blog-author-wrapper"},M.a.createElement("div",{className:"blog-author-name"},"by:"," ",M.a.createElement("span",{onClick:function(){return q("/user/".concat(D._id))}},D.name)),M.a.createElement("div",{className:"blog-author-description"},L),M.a.createElement("div",{className:"flex-row blog-author-btn-wrapper"},M.a.createElement("button",{onClick:$,className:"primary-btn box-shadow-3"},"save"),M.a.createElement("button",{onClick:T,className:"secondary-btn box-shadow-3"},"comment"))),M.a.createElement("div",{className:"flex-col blog-body-content"},M.a.createElement(tt.a,{source:S,escapeHtml:!1,renderers:{code:mt}})),M.a.createElement("aside",{className:"blog-aside-wrapper"},M.a.createElement("div",{className:"blog-aside-detail"},M.a.createElement("h2",null,"if you like this, then check out:"),0===F.length&&M.a.createElement("div",{style:{marginTop:"10px"}},"no recommendations..."),M.a.createElement("ul",{className:"blog-aside-ul-wrapper"},F.map((function(e,t){return M.a.createElement("li",{key:t,className:"blog-aside-li-wrapper"},M.a.createElement("span",{className:"blogcard-link"},M.a.createElement("b",{onClick:function(){return q("/blog/".concat(e.slug))}},e.title)),M.a.createElement("div",{className:"blog-aside-info"},M.a.createElement("span",null,"by:"," ",M.a.createElement("b",{onClick:function(){return q("/user/".concat(e.author._id))},className:"blogcard-link"},D.name," ")),M.a.createElement("span",null,"on:"," ",M.a.createElement("b",null,new Intl.DateTimeFormat("en-GB").format(e.date)))))})))))),M.a.createElement("div",{className:"blog-comments-wrapper"},M.a.createElement(vt,{id:t,commentRef:l}),M.a.createElement("div",{className:"blog-comments-header"},M.a.createElement("h2",null,"comments")),C||k?M.a.createElement(M.a.Fragment,null,C&&M.a.createElement("div",{className:"loader-spinner"},"loading..."),k&&M.a.createElement("div",{style:{marginTop:"10px",textAlign:"center"}},"error loading comments...")):M.a.createElement(ht,{commentData:O})))))},yt=a(51),Nt=function(e){var t=e.header,a=e.blogData,n=e.blogLoading,l=e.blogError,r=e.blogsData,o=e.blogsLoading,c=e.blogsError,s=e.blogAction,i=e.blogActionLoading,m=e.blogActionError,u=e.multiSelectHandler,d=Object(_.useState)([]),g=Object(U.a)(d,2),b=g[0],p=g[1],f=Object(_.useState)({title:"",slug:"",category:"",content:"",img:"",tags:[],similarBlogs:[]}),E=Object(U.a)(f,2),h=E[0],v=E[1],w=Object(_.useState)(""),y=Object(U.a)(w,2),N=y[0],j=y[1],x=Object(_.useState)([]),O=Object(U.a)(x,2),k=O[0],C=O[1];Object(_.useEffect)((function(){void 0===a||n||l||(v({title:a.getBlog.title,slug:a.getBlog.slug,category:a.getBlog.category,content:a.getBlog.content,img:a.getBlog.img}),p(a.getBlog.similarBlogs.map((function(e){return e._id}))),C(a.getBlog.tags.map((function(e){return{tag:e,_id:Object(ue.a)()}}))))}),[n,a,l]);var A=function(e){v(Object(D.a)(Object(D.a)({},h),{},Object(yt.a)({},e.target.name,e.target.value)))};return M.a.createElement("div",{className:"m-auto blog-action-wrapper"},M.a.createElement("div",{className:"blog-action-header-wrapper"},M.a.createElement("h1",null,t),M.a.createElement(Ie,{width:"100%"})),i||m||o||c||void 0===r||n||l?M.a.createElement(M.a.Fragment,null,(i||o||n||void 0===r)&&M.a.createElement("div",{className:"loader-spinner"},"loading..."),!o&&!i&&!n&&(m||c||l)&&M.a.createElement("div",{style:{marginTop:"10px",textAlign:"center"}},"error...")):M.a.createElement("form",{className:"w100 flex-col blog-action-form",onSubmit:function(e){e.preventDefault();var t=k.map((function(e){return e.tag}));s(Object(D.a)(Object(D.a)({},h),{},{tags:Object(L.a)(t),similarBlogs:b})),v({title:"",slug:"",category:"",content:"",img:"",tags:[],similarBlogs:[]}),j(""),C([]),p([])}},M.a.createElement("input",{className:"blog-action-input box-shadow-3",onChange:A,value:h.title,type:"text",name:"title",placeholder:"title",required:!0}),M.a.createElement("input",{className:"blog-action-input box-shadow-3",onChange:A,value:h.slug,type:"text",name:"slug",placeholder:"slug",required:!0}),M.a.createElement("select",{className:"blog-action-input box-shadow-3",onChange:A,value:h.category,name:"category",required:!0},M.a.createElement("option",{value:"",hidden:!0,disabled:!0},"choose a category..."),M.a.createElement("option",{value:"money"},"money"),M.a.createElement("option",{value:"lifestyle"},"lifestyle"),M.a.createElement("option",{value:"technology"},"technology")),M.a.createElement("div",{className:"flex-row blog-action-input blog-action-tags-wrapper"},M.a.createElement("input",{className:"box-shadow-3",value:N,onChange:function(e){e.preventDefault(),j(e.target.value)},type:"text",name:"tags",placeholder:"add tag"}),M.a.createElement("button",{onClick:function(e){e.preventDefault(),C([].concat(Object(L.a)(k),[{tag:N,_id:Object(ue.a)()}])),j("")},type:"button",className:"secondary-btn blog-action-tags-btn box-shadow-3"},"add tag")),M.a.createElement("div",{className:"blog-action-input blog-action-tags-list-wrapper"},"tags:"," ",M.a.createElement("span",{className:"blog-action-tags-list"},0===k.length?"none":k.map((function(e,t){return M.a.createElement("div",{key:t,className:"blog-action-tag"},e.tag,M.a.createElement("div",{className:"blog-action-delete-tag-wrapper"},M.a.createElement("button",{onClick:function(){return function(e){var t=k.filter((function(t){return t._id!==e}));C(t),j("")}(e._id)},type:"button",className:"blog-action-tag-delete-btn box-shadow-3"},"x")))})))),M.a.createElement("input",{className:"blog-action-input box-shadow-3",onChange:A,value:h.img,type:"url",name:"img",placeholder:"image url"}),M.a.createElement("textarea",{className:"blog-action-input box-shadow-3",onChange:A,value:h.content,type:"text",name:"content",placeholder:"content",required:!0}),M.a.createElement("div",{className:"blog-action-caption"},"similar blogs"),M.a.createElement("select",{className:"blog-action-input box-shadow-3",onChange:function(e){var t=u(e);p(t)},value:b,name:"similarBlogs",multiple:!0},null===r||void 0===r?void 0:r.getAllBlogs.map((function(e,t){return M.a.createElement("option",{key:t,value:e._id},"title: ",e.title," | author: ",e.author.name," | date:"," ",new Intl.DateTimeFormat("en-GB").format(e.date))}))),M.a.createElement("button",{className:"primary-btn box-shadow-3",type:"submit"},t.toLowerCase().includes("add")?"add blog":"update blog")))},jt=function(e){var t=e.showModal,a=e.setShowModal,n=e.blogData,l=e.blogError,r=e.blogLoading,o=e.blogsData,c=e.blogsError,s=e.blogsLoading,i=e.multiSelectHandler,m=Object(_.useContext)(me).setNotification,u=Object(qe.a)(oe),d=Object(U.a)(u,2),g=d[0],b=d[1],p=b.error,f=b.loading,E=Object(_.useCallback)((function(e){27===e.keyCode&&a(!1)}),[]);Object(_.useEffect)((function(){return document.addEventListener("keydown",E,!1),function(){document.removeEventListener("keydown",E,!1)}}),[]);return t?M.a.createElement("div",{className:"blog-admin-overlay"},M.a.createElement("div",{className:"blog-admin-modal"},M.a.createElement("div",{className:"blog-admin-close"},M.a.createElement("span",{onClick:function(){return a(!1)}},"x")),M.a.createElement(Nt,{header:"edit blog",blogsData:o,blogsLoading:s,blogsError:c,blogData:n,blogLoading:r,blogError:l,blogAction:function(e){try{g({variables:Object(D.a)(Object(D.a)({},e),{},{_id:n.getBlog._id}),refetchQueries:[{query:te,variables:{all:!0}},{query:le,variables:{slug:e.slug}}],awaitRefetchQueries:!0}),m({type:"success",title:"\u30fd(\u2022\u203f\u2022)\u30ce",message:"blog updated"}),a(!1)}catch(t){console.log(p),m({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:t.message})}},blogActionLoading:f,blogActionError:p,multiSelectHandler:i}))):null},xt=function(){var e=Object(_.useContext)(me),t=e.setNotification,a=e.showEditBlogModal,n=e.setShowEditBlogModal,l=Object(_.useState)(""),r=Object(U.a)(l,2),o=r[0],c=r[1],s=Object(_.useState)([]),i=Object(U.a)(s,2),m=i[0],u=i[1],d=Object(_.useState)([]),g=Object(U.a)(d,2),b=g[0],p=g[1],f=Object(_.useState)([]),E=Object(U.a)(f,2),h=E[0],v=E[1],w=Object(qe.a)(re),y=Object(U.a)(w,2),N=y[0],j=y[1],x=j.error,O=j.loading,k=Object(qe.a)(se),C=Object(U.a)(k,2),A=C[0],B=C[1],S=B.error,I=B.loading,F=Object(qe.a)(ie),D=Object(U.a)(F,2),q=D[0],$=D[1],T=$.error,Q=$.loading,G=Object(R.a)(le),P=Object(U.a)(G,2),H=P[0],W=P[1],Y=W.data,K=W.error,Z=W.loading,V=Object(R.a)(ee),J=Object(U.a)(V,2),z=J[0],X=J[1],ae=X.data,ne=X.error,oe=X.loading;Object(_.useEffect)((function(){z()}),[]);var ue=function(e){for(var t=e.target.options,a=[],n=0,l=t.length;n<l;n++)t[n].selected&&a.push(t[n].value);return a};return M.a.createElement("section",{className:"w100 blog-admin-section"},M.a.createElement("div",{className:"m-auto blog-featured-wrapper"},M.a.createElement("div",{className:"blog-featured-header-wrapper"},M.a.createElement("h1",null,"set featured blogs"),M.a.createElement(Ie,{width:"100%"})),oe||ne||void 0===ae||T||Q?M.a.createElement(M.a.Fragment,null,(oe||Q||void 0===ae)&&M.a.createElement("div",{className:"loader-spinner"},"loading..."),!oe&&!Q&&(ne||T)&&M.a.createElement("div",{style:{marginTop:"10px",textAlign:"center"}},"error updating blogs...")):M.a.createElement("form",{className:"w100 flex-col blog-featured-form"},M.a.createElement("div",{className:"blog-featured-lists"},M.a.createElement("div",{className:"blog-featured-list"},M.a.createElement("h2",null,"blogs"),M.a.createElement("select",{className:"blog-featured-input box-shadow-3",onChange:function(e){var t=ue(e);v(t)},name:"non-featured-blogs",multiple:!0,required:!0},null===ae||void 0===ae?void 0:ae.getAllBlogs.filter((function(e){return!e.featured})).map((function(e,t){return M.a.createElement("option",{key:t,value:e._id},"title: ",e.title," | author: ",e.author.name," | date:"," ",new Intl.DateTimeFormat("en-GB").format(e.date))}))),M.a.createElement("button",{onClick:function(e){e.preventDefault();try{q({variables:{blogId:Object(L.a)(h),type:"setFeatured"},refetchQueries:[{query:te,variables:{all:!0}},{query:ce,variables:{field:"featured",top:5,order:"descending"}}],awaitRefetchQueries:!0})}catch(e){console.log(T),t({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:e.message})}},className:"secondary-btn featured-list-update-btn box-shadow-3",type:"button"},"feature >>")),M.a.createElement("div",{className:"blog-featured-list"},M.a.createElement("h2",null,"featured blogs"),M.a.createElement("select",{className:"blog-featured-input box-shadow-3",onChange:function(e){var t=ue(e);p(t)},name:"featured-blogs",multiple:!0,required:!0},null===ae||void 0===ae?void 0:ae.getAllBlogs.filter((function(e){return e.featured})).map((function(e,t){return M.a.createElement("option",{key:t,value:e._id},"title: ",e.title," | author: ",e.author.name," | date:"," ",new Intl.DateTimeFormat("en-GB").format(e.date))}))),M.a.createElement("button",{onClick:function(e){e.preventDefault();try{q({variables:{blogId:Object(L.a)(b),type:"setNonFeatured"},refetchQueries:[{query:te,variables:{all:!0}},{query:ce,variables:{field:"featured",top:5,order:"descending"}}],awaitRefetchQueries:!0})}catch(e){console.log(T),t({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:e.message})}},className:"secondary-btn featured-list-update-btn box-shadow-3",type:"button"},"<< unfeature"))))),M.a.createElement(Nt,{header:"add blog",blogsData:ae,blogsLoading:oe,blogsError:ne,blogAction:function(e){try{N({variables:e,refetchQueries:[{query:te,variables:{all:!0}}],awaitRefetchQueries:!0}),t({type:"success",title:"\u30fd(\u2022\u203f\u2022)\u30ce",message:"blog added"})}catch(a){console.log(x),t({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:a.message})}},blogActionLoading:O,blogActionError:x,multiSelectHandler:ue}),M.a.createElement("div",{className:"m-auto blog-edit-wrapper"},M.a.createElement("div",{className:"blog-delete-edit-wrapper"},M.a.createElement("h1",null,"edit blog"),M.a.createElement(Ie,{width:"100%"})),oe||ne||void 0===ae?M.a.createElement(M.a.Fragment,null,(oe||void 0===ae)&&M.a.createElement("div",{className:"loader-spinner"},"loading..."),!oe&&ne&&M.a.createElement("div",{style:{marginTop:"10px",textAlign:"center"}},"error loading blogs...")):M.a.createElement("form",{className:"w100 flex-col blog-edit-form",onSubmit:function(e){e.preventDefault(),o?(H({variables:{slug:o}}),n(!0)):t({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"select blog to edit"})}},M.a.createElement("select",{className:"blog-edit-input box-shadow-3",onChange:function(e){var t=e.target;return c(t.value)},defaultValue:"default",name:"category",required:!0},M.a.createElement("option",{value:"default",disabled:!0},"select blog"),null===ae||void 0===ae?void 0:ae.getAllBlogs.map((function(e,t){return M.a.createElement("option",{key:t,value:e.slug},"title: ",e.title," | author: ",e.author.name," | comments:"," ",e.comments.length," | date:"," ",new Intl.DateTimeFormat("en-GB").format(e.date))}))),M.a.createElement("button",{className:"primary-btn box-shadow-3",type:"submit"},"edit blog")),M.a.createElement(jt,{blogData:Y,blogLoading:Z,blogError:K,blogsData:ae,blogsLoading:oe,blogsError:ne,showModal:a,setShowModal:n,multiSelectHandler:ue})),M.a.createElement("div",{className:"m-auto blog-delete-wrapper"},M.a.createElement("div",{className:"blog-delete-header-wrapper"},M.a.createElement("h1",null,"delete blog"),M.a.createElement(Ie,{width:"100%"})),oe||ne||void 0===ae||S||I?M.a.createElement(M.a.Fragment,null,(oe||I||void 0===ae)&&M.a.createElement("div",{className:"loader-spinner"},"loading..."),!oe&&!I&&(ne||S)&&M.a.createElement("div",{style:{marginTop:"10px",textAlign:"center"}},"error deleting blog...")):M.a.createElement("form",{className:"w100 flex-col blog-delete-form",onSubmit:function(e){if(e.preventDefault(),0===m.length)t({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"select blog to delete"});else if(window.confirm("permanently delete blog? "))try{A({variables:{blogId:m},refetchQueries:[{query:te,variables:{all:!0}}],awaitRefetchQueries:!0})}catch(e){console.log(S),t({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:e.message})}}},M.a.createElement("select",{className:"blog-delete-input box-shadow-3",onChange:function(e){var t=e.target;return u(t.value)},defaultValue:"default",name:"category",required:!0},M.a.createElement("option",{value:"default",disabled:!0},"select blog"),null===ae||void 0===ae?void 0:ae.getAllBlogs.map((function(e,t){return M.a.createElement("option",{key:t,value:e._id},"title: ",e.title," | author: ",e.author.name," | comments:"," ",e.comments.length," | date:"," ",new Intl.DateTimeFormat("en-GB").format(e.date))}))),M.a.createElement("button",{className:"primary-btn box-shadow-3",type:"submit"},"delete blog"))))},Ot=a(18),kt=function(e){var t=e.handleFloatBlur,a=e.handleIntBlur,n=Object(_.useState)(""),l=Object(U.a)(n,2),r=l[0],o=l[1],c=Object(_.useState)(""),s=Object(U.a)(c,2),i=s[0],m=s[1],u=Object(_.useState)(""),d=Object(U.a)(u,2),g=d[0],b=d[1],p=function(){return r&&i&&g},f=[];!function(){for(var e=0;e<=i;e++)f.push({year:e,balance:Math.round(f.length>0?r+f[e-1].balance*(1+g/100):r)})}();var E=function(e){var t=e.payload;return e.active&&p()?M.a.createElement("div",{className:"custom-tooltip"},M.a.createElement("p",{className:"year"},"year:"," ","".concat(new Intl.NumberFormat("en").format(t[0].payload.year))),M.a.createElement("p",{className:"balance"},"balance:"," ","".concat(new Intl.NumberFormat("en").format(t[0].payload.balance)))):null};return M.a.createElement(M.a.Fragment,null,M.a.createElement("div",{className:"tool-header-wrapper"},M.a.createElement("h2",null,"compounding savings calculator"),M.a.createElement(Ie,{width:"100%"}),M.a.createElement(ct,null)),M.a.createElement("div",{className:"w100 tool-instruction-wrapper"},M.a.createElement("h3",null,"inputs"),M.a.createElement("ol",null,M.a.createElement("li",null,M.a.createElement("b",null,"annual contribution:")," the amount you will be savings each year"),M.a.createElement("li",null,M.a.createElement("b",null,"years:")," the total number of years you will be saving for (up to 100 years)"),M.a.createElement("li",null,M.a.createElement("b",null,"growth:")," the annual compounding percent return on your savings (up to 100% p.a.)"))),M.a.createElement("div",{className:"flex-col tool-inputs-wrapper"},M.a.createElement("div",{className:"w100 flex-row-center tool-input-wrapper"},M.a.createElement("input",{className:"box-shadow-3",placeholder:"annual contribution",value:r,onChange:function(e){var t=e.target;return o(parseInt(t.value)||"")},onBlur:function(e){var t=e.target;return a(t,o)},type:"number",min:"0",max:"1000000",step:"1"}),M.a.createElement("span",null,r>0?"p.a.":null)),M.a.createElement("div",{className:"w100 flex-row-center tool-input-wrapper"},M.a.createElement("input",{className:"box-shadow-3",placeholder:"years",value:i,onChange:function(e){var t=e.target;return m(parseInt(t.value)||"")},onBlur:function(e){var t=e.target;return a(t,m)},type:"number",min:"0",max:"100",step:"1"}),M.a.createElement("span",null,i>0?"years":null)),M.a.createElement("div",{className:"w100 flex-row-center tool-input-wrapper"},M.a.createElement("input",{className:"box-shadow-3",placeholder:"annual growth",value:g,onChange:function(e){var t=e.target;return b(parseFloat(t.value)||"")},onBlur:function(e){var a=e.target;return t(a,b)},type:"number",min:"0",max:"100",step:"0.1"}),M.a.createElement("span",null,g>0?"% p.a.":null)),M.a.createElement("button",{onClick:function(e){e.preventDefault(),o(""),m(""),b("")},className:"tool-clear-btn secondary-btn box-shadow-3"},"clear")),M.a.createElement("div",{className:"tool-summary-wrapper"},M.a.createElement("h2",null,"results"),M.a.createElement("p",{className:"tool-result"},p()?"you have ".concat(new Intl.NumberFormat("en").format(f[f.length-1].balance)," bucks after ").concat(i," years"):"...waiting for inputs")),M.a.createElement("div",{className:"tool-chart-wrapper"},M.a.createElement(Ot.f,null,M.a.createElement(Ot.e,{data:p()?f:[{year:0,balance:0}]},M.a.createElement(Ot.d,{type:"monotone",dataKey:"balance",stroke:"#000000"}),M.a.createElement(Ot.h,{dataKey:"year"}),M.a.createElement(Ot.i,{tickFormatter:function(e){return new Intl.NumberFormat("en").format(e)}}),M.a.createElement(Ot.g,{content:M.a.createElement(E,null)})))))},Ct=function(e){var t,a,n=e.handleFloatBlur,l=e.handleIntBlur,r=Object(_.useContext)(me).setNotification,o=Object(_.useState)("overall"),c=Object(U.a)(o,2),s=c[0],i=c[1],m=Object(_.useState)(""),u=Object(U.a)(m,2),d=u[0],g=u[1],b=Object(_.useState)(""),p=Object(U.a)(b,2),f=p[0],E=p[1],h=Object(_.useState)(""),v=Object(U.a)(h,2),w=v[0],y=v[1],N=Object(_.useState)(""),j=Object(U.a)(N,2),x=j[0],O=j[1],k=Object(_.useState)(""),C=Object(U.a)(k,2),A=C[0],B=C[1],S=function(){return d&&f&&w&&x&&A},I=[];switch(function(){for(var e=A/100,t=w/100,a=0,n=0,l=0;l<=x;l++){var r=0===l?d:null,o=l===x?d*Math.pow(1+e,l):null,c=0===l?d-f:null,s=0===l?f:null,i=(a=n+c)*(1+t),m=(d-f)*t/(1-Math.pow(1+t,-30)),u=m>i?i:m,g=l===x?i-u:null;n=i-u-g;var b=-r+o,p=b+c-u-g,E=0===l?Math.round(p):Math.round(I[l-1].cumulativePostFinanceCashflow+p),h=0===l?Math.round(-u-g):Math.round(I[l-1].cumulativeMortgagePayment-u-g),v=0===l?Math.round(-d):Math.round(I[l-1].cumulativeHouseCashflow+o);I.push({year:l,acquisition:r,sale:o,preFinanceCashflow:b,openingBalance:a,equityUse:s,debtUse:c,interest:i-a,loanInstallment:u,principalRepayment:g,closingBalance:n,postFinanceCashflow:p,cumulativePostFinanceCashflow:E,cumulativeMortgagePayment:h,cumulativeHouseCashflow:v})}}(),s){case"house":t="cumulativeHouseCashflow",a="you flipped the house for a ".concat(I[I.length-1].cumulativeHouseCashflow>0?"profit":"loss"," of ").concat(new Intl.NumberFormat("en").format(I[I.length-1].cumulativeHouseCashflow)," bucks");break;case"mortgage":t="cumulativeMortgagePayment",a="the mortgage costs you ".concat(new Intl.NumberFormat("en").format(-I[I.length-1].cumulativeMortgagePayment)," bucks");break;case"overall":t="cumulativePostFinanceCashflow",a="you ".concat(I[I.length-1].cumulativePostFinanceCashflow>0?"made":"lost"," ").concat(new Intl.NumberFormat("en").format(I[I.length-1].cumulativePostFinanceCashflow)," bucks after ").concat(x," years");break;default:t="cumulativePostFinanceCashflow",a="you ".concat(I[I.length-1].cumulativePostFinanceCashflow>0?"made":"lost"," ").concat(new Intl.NumberFormat("en").format(I[I.length-1].cumulativePostFinanceCashflow)," bucks after ").concat(x," years")}var F=function(e){var a=e.payload;return e.active&&S()?M.a.createElement("div",{className:"custom-tooltip"},M.a.createElement("p",{className:"year"},"year:"," ","".concat(new Intl.NumberFormat("en").format(a[0].payload.year))),M.a.createElement("p",{className:"position"},"cumulative position:"," ","".concat(new Intl.NumberFormat("en").format(a[0].payload[t])))):null};return M.a.createElement(M.a.Fragment,null,M.a.createElement("div",{className:"tool-header-wrapper"},M.a.createElement("h2",null,"buy a house"),M.a.createElement(Ie,{width:"100%"}),M.a.createElement(ct,null)),M.a.createElement("div",{className:"w100 tool-instruction-wrapper"},M.a.createElement("h3",null,"inputs"),M.a.createElement("ol",null,M.a.createElement("li",null,M.a.createElement("b",null,"purchase price:")," the amount the house costs to buy today"),M.a.createElement("li",null,M.a.createElement("b",null,"desposit:")," the size of the deposit"),M.a.createElement("li",null,M.a.createElement("b",null,"mortgage rate:")," the interest rate of the mortgage repayments (assumming 30 year principal and interest repayment)"),M.a.createElement("li",null,M.a.createElement("b",null,"years:")," the total number of years you will own the house"),M.a.createElement("li",null,M.a.createElement("b",null,"growth:")," the annual growth in price of the house"))),M.a.createElement("div",{className:"flex-col tool-inputs-wrapper"},M.a.createElement("div",{className:"w100 flex-row-center tool-input-wrapper"},M.a.createElement("input",{className:"box-shadow-3",placeholder:"purchase price",value:d,onChange:function(e){var t=e.target;return g(parseInt(t.value)||"")},onBlur:function(e){var t=e.target;return l(t,g)},type:"number",min:"0",max:"100000000",step:"1"}),M.a.createElement("span",null,d>0?"price":null)),M.a.createElement("div",{className:"w100 flex-row-center tool-input-wrapper"},M.a.createElement("input",{className:"box-shadow-3",placeholder:"deposit",value:f,onChange:function(e){var t=e.target;return E(parseInt(t.value)||"")},onBlur:function(e){var t=e.target;return l(t,E)},type:"number",min:"0",max:"100000000",step:"1"}),M.a.createElement("span",null,f>0?"deposit":null)),M.a.createElement("div",{className:"w100 flex-row-center tool-input-wrapper"},M.a.createElement("input",{className:"box-shadow-3",placeholder:"mortgage rate",value:w,onChange:function(e){var t=e.target;return y(parseFloat(t.value)||"")},onBlur:function(e){var t=e.target;return n(t,y)},type:"number",min:"0",max:"100",step:"0.1"}),M.a.createElement("span",null,w>0?"% p.a.":null)),M.a.createElement("div",{className:"w100 flex-row-center tool-input-wrapper"},M.a.createElement("input",{className:"box-shadow-3",placeholder:"years",value:x,onChange:function(e){var t=e.target;return O(parseInt(t.value)||"")},onBlur:function(e){var t=e.target;return l(t,O)},type:"number",min:"0",max:"100",step:"1"}),M.a.createElement("span",null,x>0?"years":null)),M.a.createElement("div",{className:"w100 flex-row-center tool-input-wrapper"},M.a.createElement("input",{className:"box-shadow-3",placeholder:"annual growth",value:A,onChange:function(e){var t=e.target;return B(parseFloat(t.value)||"")},onBlur:function(e){var t=e.target;return n(t,B)},type:"number",min:"0",max:"100",step:"0.1"}),M.a.createElement("span",null,A>0?"% p.a.":null)),M.a.createElement("button",{onClick:function(e){e.preventDefault(),g(""),E(""),y(""),O(""),B("")},className:"tool-clear-btn secondary-btn box-shadow-3"},"clear")),M.a.createElement("div",{className:"tool-summary-wrapper"},M.a.createElement("h2",null,"show"),M.a.createElement("div",{className:"tool-radio-wrapper",onChange:function(e){S()?i(e.target.value):r({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"update all inputs to see results"})}},M.a.createElement("div",{className:"flex-row tool-radio"},M.a.createElement("input",{type:"radio",name:"output",value:"house",defaultChecked:"house"===s}),M.a.createElement("label",{htmlFor:"house"},"house purchase/sale only (excl. mortgage payments)")),M.a.createElement("div",{className:"flex-row tool-radio"},M.a.createElement("input",{type:"radio",name:"output",value:"mortgage",defaultChecked:"mortgage"===s}),M.a.createElement("label",{htmlFor:"mortgage"},"mortgage payments only (excl. house purchase/sale)")),M.a.createElement("div",{className:"flex-row tool-radio"},M.a.createElement("input",{type:"radio",name:"output",value:"overall",defaultChecked:"overall"===s}),M.a.createElement("label",{htmlFor:"other"},"total (house puchase/sale + mortage payments)"))),M.a.createElement("h2",null,"results"),M.a.createElement("p",{className:"tool-result"},S()?a:"...waiting for inputs")),M.a.createElement("div",{className:"tool-chart-wrapper"},M.a.createElement(Ot.f,null,M.a.createElement(Ot.e,{data:S()?I:[{year:0,cumulativePostFinanceCashflow:0,cumulativeMortgagePayment:0,cumulativeHouseCashflow:0}]},M.a.createElement(Ot.d,{type:"monotone",dataKey:t,stroke:"#000000"}),M.a.createElement(Ot.h,{dataKey:"year"}),M.a.createElement(Ot.i,{tickFormatter:function(e){return new Intl.NumberFormat("en").format(e)}}),M.a.createElement(Ot.g,{content:M.a.createElement(F,null)})))),M.a.createElement("div",{className:"tool-chart-footer"},M.a.createElement("b",null,"note:"),M.a.createElement("ul",null,M.a.createElement("li",null,"this calculator doesn't factor in tax, agents fees, legal costs, or operatings costs of ownership etc"),M.a.createElement("li",null,"for a more detailed calculation, visit our partners at"," ",M.a.createElement("span",{className:"tool-link",onClick:function(e){e.preventDefault();var t=window.open("https://www.propertyinvestordash.com","_blank");null!=t&&t.focus()}},M.a.createElement("u",null,"PropertyInvestorDASH"))))))},At=function(e){var t=e.handleIntBlur,a=e.title,n=e.data,l=e.setData,r=Object(_.useContext)(me).setNotification,o=Object(_.useState)(""),c=Object(U.a)(o,2),s=c[0],i=c[1],m=Object(_.useState)(""),u=Object(U.a)(m,2),d=u[0],g=u[1],b=Object(_.useState)(""),p=Object(U.a)(b,2),f=p[0],E=p[1],h=Object(_.useState)(""),v=Object(U.a)(h,2),w=v[0],y=v[1],N=function(e){"weekly"===e.target.name?(g(parseInt(e.target.value)||""),E(parseInt(52*e.target.value/12)||""),y(parseInt(52*e.target.value)||"")):"monthly"===e.target.name?(g(parseInt(12*e.target.value/52)||""),E(parseInt(e.target.value)||""),y(parseInt(12*e.target.value)||"")):"annual"===e.target.name&&(g(parseInt(e.target.value/52)||""),E(parseInt(e.target.value/12)||""),y(parseInt(e.target.value)||""))},j=function(){return s&&d&&f&&w};return M.a.createElement("form",{className:"tool-table-form",onSubmit:function(e){e.preventDefault(),n.length>6?r({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"max 6 income, or expense items"}):j()?(l([].concat(Object(L.a)(n),[{description:s,amount:w,id:Object(ue.a)()}])),i(""),g(""),E(""),y("")):r({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"fill in description and amount to add"})}},M.a.createElement("table",{className:"w100 tool-table-wrapper"},M.a.createElement("thead",null,M.a.createElement("tr",{className:"flex-row"},M.a.createElement("th",{className:"flex-1"},a),M.a.createElement("th",{className:"flex-1"},"amount p.w."),M.a.createElement("th",{className:"flex-1 tool-desktop-input"},"amount p.m."),M.a.createElement("th",{className:"flex-1 tool-desktop-input"},"amount p.a."),M.a.createElement("th",{className:"tool-table-action"}))),M.a.createElement("tbody",null,M.a.createElement("tr",{key:a,className:"flex-row"},M.a.createElement("td",{className:"flex-1"},M.a.createElement("input",{className:"box-shadow-3",placeholder:"description",value:s,onChange:function(e){var t=e.target;return i(t.value||"")},type:"text",minLength:0,maxLength:50,required:!0})),M.a.createElement("td",{className:"flex-1"},M.a.createElement("input",{className:"box-shadow-3",placeholder:"weekly amount",name:"weekly",value:d,onChange:N,onBlur:function(e){var a=e.target;return t(a,g)},type:"number",min:"0",max:"1000000",step:"1",required:!0})),M.a.createElement("td",{className:"flex-1 tool-desktop-input"},M.a.createElement("input",{className:"box-shadow-3",name:"monthly",placeholder:"monthly amount",value:f,onChange:N,onBlur:function(e){var a=e.target;return t(a,E)},type:"number",min:"0",max:"4000000",step:"1",required:!0})),M.a.createElement("td",{className:"flex-1 tool-desktop-input"},M.a.createElement("input",{className:"box-shadow-3",name:"annual",placeholder:"annual amount",value:w,onChange:N,onBlur:function(e){var a=e.target;return t(a,y)},type:"number",min:"0",max:"52000000",step:"1",required:!0})),M.a.createElement("td",{className:"tool-table-action"},M.a.createElement("button",{type:"submit",className:"primary-btn tool-table-add box-shadow-3"},"add"))),n.map((function(e){return M.a.createElement("tr",{className:"flex-row tool-table-row",key:e.id},M.a.createElement("td",{className:"flex-1"},e.description),M.a.createElement("td",{className:"flex-1"},new Intl.NumberFormat("en").format(parseInt(e.amount/52))),M.a.createElement("td",{className:"flex-1 tool-desktop-input"},new Intl.NumberFormat("en").format(parseInt(e.amount/12))),M.a.createElement("td",{className:"flex-1 tool-desktop-input"},new Intl.NumberFormat("en").format(parseInt(e.amount))),M.a.createElement("td",{className:"tool-table-action"},M.a.createElement("button",{onClick:function(){return function(e){var t=n.filter((function(t){return t.id!==e}));l(t)}(e.id)},type:"button",className:"secondary-btn tool-table-delete"},"x")))})))))},Bt=function(e){var t,a,n,l,r=e.handleIntBlur,o=Object(_.useContext)(me).setNotification,c=Object(_.useState)([]),s=Object(U.a)(c,2),i=s[0],m=s[1],u=Object(_.useState)([]),d=Object(U.a)(u,2),g=d[0],b=d[1],p=Object(_.useState)("annual"),f=Object(U.a)(p,2),E=f[0],h=f[1],v=["#000000","#333333","#666666","#999999","#CCCCCC","#EEEEEE"],w=function(){return i.length>0&&g.length>0};switch(w()&&(t=1===i.length?i[0].amount:i.reduce((function(e,t){return e+(t.amount||0)}),0),a=1===g.length?g[0].amount:g.reduce((function(e,t){return e+(t.amount||0)}),0)),E){case"weekly":t=Math.round(t/52),a=Math.round(a/52),n=g.map((function(e){return Object(D.a)(Object(D.a)({},e),{},{amount:Math.round(e.amount/52)})})),n=[].concat(Object(L.a)(n),[{description:"savings",amount:t-a}]),l="per week";break;case"monthly":t=Math.round(t/12),a=Math.round(a/12),n=g.map((function(e){return Object(D.a)(Object(D.a)({},e),{},{amount:Math.round(e.amount/12)})})),n=[].concat(Object(L.a)(n),[{description:"savings",amount:t-a}]),l="per month";break;case"annual":n=g,n=[].concat(Object(L.a)(n),[{description:"savings",amount:Math.round(t-a)}]),l="per year";break;default:n=g}return M.a.createElement(M.a.Fragment,null,M.a.createElement("div",{className:"tool-header-wrapper"},M.a.createElement("h2",null,"budget calculator"),M.a.createElement(Ie,{width:"100%"}),M.a.createElement(ct,null)),M.a.createElement("div",{className:"w100 tool-instruction-wrapper"},M.a.createElement("h3",null,"inputs"),M.a.createElement("ol",null,M.a.createElement("li",null,M.a.createElement("b",null,"income:")," add up to 6 income sources, and input either weekly/monthly/annual allowance"),M.a.createElement("li",null,M.a.createElement("b",null,"add expense:")," add up to 6 recurring expenses, and input either weekly/monthly/annual allowance"))),M.a.createElement("div",{className:"flex-col tool-tables-wrapper"},M.a.createElement(At,{handleIntBlur:r,title:"income",data:i,setData:m}),M.a.createElement(At,{handleIntBlur:r,title:"expenses",data:g,setData:b}),M.a.createElement("button",{onClick:function(e){e.preventDefault(),m([]),b([])},className:"tool-clear-btn tool-budget-clear secondary-btn box-shadow-3"},"clear")),M.a.createElement("div",{className:"tool-summary-wrapper"},M.a.createElement("h2",null,"show"),M.a.createElement("div",{className:"tool-radio-wrapper",onChange:function(e){w()?h(e.target.value):o({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"add income and expenses to see results"})}},M.a.createElement("div",{className:"flex-row tool-radio"},M.a.createElement("input",{type:"radio",name:"output",value:"weekly",defaultChecked:"weekly"===E}),M.a.createElement("label",{htmlFor:"weekly"},"weekly")),M.a.createElement("div",{className:"flex-row tool-radio"},M.a.createElement("input",{type:"radio",name:"output",value:"monthly",defaultChecked:"monthly"===E}),M.a.createElement("label",{htmlFor:"monthly"},"monthly")),M.a.createElement("div",{className:"flex-row tool-radio"},M.a.createElement("input",{type:"radio",name:"output",value:"annual",defaultChecked:"annual"===E}),M.a.createElement("label",{htmlFor:"annual"},"annual"))),M.a.createElement("h2",null,"results"),M.a.createElement("p",{className:"tool-result"},w()?"you earn ".concat(new Intl.NumberFormat("en").format(t),", spend ").concat(new Intl.NumberFormat("en").format(a),", and ").concat(t-a>0?"save":"lose"," ").concat(new Intl.NumberFormat("en").format(t-a)," ").concat(l,". See below for summary of expenses"):"...waiting for inputs")),M.a.createElement("div",{className:"tool-chart-wrapper"},M.a.createElement(Ot.f,{width:"100%",height:"100%"},M.a.createElement(Ot.b,{data:w()?n:[{description:"",amount:0}]},M.a.createElement(Ot.h,{dataKey:"description"}),M.a.createElement(Ot.i,{tickFormatter:function(e){return new Intl.NumberFormat("en").format(e)}}),M.a.createElement(Ot.a,{dataKey:"amount",fill:"#8884d8",label:{position:"top"}},n.map((function(e,t){return M.a.createElement(Ot.c,{key:"cell-".concat(t),fill:v[t%v.length]})})))))),M.a.createElement("div",{className:"tool-chart-footer"},M.a.createElement("b",null,"note:"),M.a.createElement("ul",null,M.a.createElement("li",null,"this calculator doesn't account for tax"))))},St=function(){var e=Object(ve.g)(),t=Object(_.useRef)(null),a=Object(_.useRef)(null),n=Object(_.useRef)(null),l=e.location.hash,r=e.location.key;Object(_.useEffect)((function(){l.includes("compound")?t.current.scrollIntoView({behavior:"smooth",block:"start",inline:"center"}):l.includes("house")?a.current.scrollIntoView({behavior:"smooth",block:"start",inline:"center"}):l.includes("budget")&&n.current.scrollIntoView({behavior:"smooth",block:"start",inline:"center"})}),[l,r]);var o=function(t){e.push("/tools#".concat(t))},c=function(e,t){var a=e.value,n=e.min,l=e.max;isNaN(a)||""===a||(a>parseInt(l)?t(parseFloat(l).toFixed(2)):a<parseInt(n)?t(parseFloat(n).toFixed(2)):t(parseFloat(a).toFixed(2)))},s=function(e,t){var a=e.value,n=e.min,l=e.max;isNaN(a)||""===a||(a>parseInt(l)?t(parseInt(l)):a<parseInt(n)?t(parseInt(n)):t(parseInt(a)))};return M.a.createElement("section",{className:"flex-col tools-section"},M.a.createElement("div",{ref:t,className:"tool-link-wrapper"},M.a.createElement("div",{className:"tool-header-wrapper"},M.a.createElement("h1",null,"tools"),M.a.createElement(Ie,{width:"100%"})),M.a.createElement("ul",null,M.a.createElement("li",{className:"tool-link",onClick:function(){return o("compound")}},"compounding savings calculator"),M.a.createElement("li",{className:"tool-link",onClick:function(){return o("house")}},"buy a house calculator"),M.a.createElement("li",{className:"tool-link",onClick:function(){return o("budget")}},"budget tool"))),M.a.createElement("div",{ref:t,className:"tool-wrapper"},M.a.createElement(kt,{handleFloatBlur:c,handleIntBlur:s})),M.a.createElement("div",{ref:a,className:"tool-wrapper"},M.a.createElement(Ct,{handleFloatBlur:c,handleIntBlur:s})),M.a.createElement("div",{ref:n,className:"tool-wrapper"},M.a.createElement(Bt,{handleFloatBlur:c,handleIntBlur:s})))},It=Object(P.a)(I||(I=Object(G.a)(["\n  mutation contact($fullName: String!, $email: String!, $message: String!) {\n    contact(fullName: $fullName, email: $email, message: $message) {\n      message\n    }\n  }\n"]))),Ft=function(){var e=Object(_.useState)({}),t=Object(U.a)(e,2),a=t[0],n=t[1],l=Object(_.useContext)(me).setNotification,r=Object(qe.a)(It),o=Object(U.a)(r,2),c=o[0],s=o[1].loading,i=function(e){n(Object(D.a)(Object(D.a)({},a),{},Object(yt.a)({},e.target.name,e.target.value)))},m=function(){var e=Object(Me.a)(_e.a.mark((function e(t){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,c({variables:a});case 4:n({}),l({type:"success",title:"\u30fd(\u2022\u203f\u2022)\u30ce",message:"email sent"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),l({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"email failed"});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return M.a.createElement("section",{className:"contact-section flex-col"},M.a.createElement("div",{className:"flex-col-center form-wrapper"},s?M.a.createElement("div",{className:"loader-spinner"},"Loading..."):M.a.createElement("form",{onSubmit:m},M.a.createElement("div",{className:"form-field"},M.a.createElement("input",{onChange:i,name:"fullName",placeholder:"name",className:"form-input",type:"text",maxLength:100,autoComplete:"off",required:!0})),M.a.createElement("div",{className:"form-field"},M.a.createElement("input",{onChange:i,placeholder:"your@email.com",name:"email",className:"form-input",type:"email",maxLength:150,autoComplete:"off",required:!0})),M.a.createElement("div",{className:"form-field message-field"},M.a.createElement("textarea",{onChange:i,name:"message",placeholder:"message",className:"form-input",id:"form-message",input:"text",maxLength:1250,autoComplete:"off",required:!0})),M.a.createElement("div",{className:"form-button-container"},M.a.createElement("button",{className:"primary-btn form-button box-shadow-3",id:"form-submit",type:"submit",variant:"primary"},"Submit")))))},Dt=function(){var e=Object(ve.g)();return M.a.createElement("section",{className:"FAQ-section w100 flex-col"},M.a.createElement("div",{className:"flex-col FAQ-wrapper"},M.a.createElement("div",{className:"p10 FAQ-item-wrapper"},M.a.createElement("h2",null,"what is flogs.me"),M.a.createElement("p",null,"website")),M.a.createElement("div",{className:"p10 FAQ-item-wrapper"},M.a.createElement("h2",null,"why was flogs.me made"),M.a.createElement("p",null,"bored")),M.a.createElement("div",{className:"p10 FAQ-item-wrapper"},M.a.createElement("h2",null,"what are flogs"),M.a.createElement("p",null,"started as an abbreviation for finance blogs")),M.a.createElement("div",{className:"p10 FAQ-item-wrapper"},M.a.createElement("h2",null,"is flogs.me financial advise"),M.a.createElement("p",null,"nope")),M.a.createElement("div",{className:"p10 FAQ-item-wrapper"},M.a.createElement("h2",null," can I contribute"),M.a.createElement("p",{className:"FAQ-link",onClick:function(){return t="/contact",void e.push(t);var t}},"yep"))))},_t=function(){var e,t,a,n,l,r,o,c,s=Object(ve.i)().id,i=Object(Q.a)(z,{variables:{userId:s}}),m=i.data,u=i.error,d=i.loading,g=i.refetch;return Object(_.useEffect)((function(){g()}),[s]),u||d||void 0===m||(n=m.getUser.name,l=new Intl.DateTimeFormat("en-GB").format(m.getUser.createdDate),r=m.getUser.blogs,o=m.getUser.comments,c=m.getUser.userType,e={comments:m.getUser.comments},t={blogs:m.getUser.blogs},a={blogs:m.getUser.savedBlogs}),M.a.createElement("section",{className:"w100 h100 user-section flex-col-center"},d||u?M.a.createElement(M.a.Fragment,null,d&&M.a.createElement("div",{className:"loader-spinner"},"loading..."),u&&M.a.createElement("div",null,"error loading user data...")):M.a.createElement("div",{className:"user-summary-wrapper"},M.a.createElement("div",{className:"user-header-wrapper"},M.a.createElement("h1",null,"account summary"),M.a.createElement(Ie,{width:"100%"})),M.a.createElement("div",{className:"user-body-wrapper"},M.a.createElement("div",{className:"w100 user-subheader-wrapper"},M.a.createElement("div",null,M.a.createElement("h2",null,n)),M.a.createElement("div",null,"member since: ",M.a.createElement("b",null,l)),M.a.createElement("div",null,"account type: ",M.a.createElement("b",null,c)),M.a.createElement("div",null,"total blogs: ",M.a.createElement("b",null,r.length)),M.a.createElement("div",null,"total comments: ",M.a.createElement("b",null,o.length))),M.a.createElement("div",{className:"featured-lists-wrapper"},M.a.createElement(Ke,{title:"saved blogs",noDataMessage:"no saved blogs",dataObject:a,loading:d,error:u}),M.a.createElement(Ke,{title:"blogs written",noDataMessage:"no blogs written",dataObject:t,loading:d,error:u}),M.a.createElement(Ke,{title:"comments",noDataMessage:"no comments",dataObject:e,loading:d,error:u})))))},Mt=function(){var e,t,a,n=Object(_.useContext)(me),l=n.setNotification,r=n.meData,o=n.meLoading,c=n.meError,s=Object(_.useState)(""),i=Object(U.a)(s,2),m=i[0],u=i[1],d=Object(_.useState)(""),g=Object(U.a)(d,2),b=g[0],p=g[1],f=Object(_.useState)(""),E=Object(U.a)(f,2),h=E[0],v=E[1],w=Object(qe.a)(Z),y=Object(U.a)(w,2),N=y[0],j=y[1].error,x=Object(qe.a)(K),O=Object(U.a)(x,2),k=O[0],C=O[1].error,A=Object(qe.a)(V),B=Object(U.a)(A,2),S=B[0],I=B[1].error;o||c||void 0===r||(e=r.getMe.email,t=r.getMe._id,a=r.getMe.subscribed);var F=function(){var e=Object(Me.a)(_e.a.mark((function e(n){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,S({variables:{subscribe:!a},refetchQueries:[{query:z,variables:{userId:t}}],awaitRefetchQueries:!0});case 4:l({type:"success",title:"\u30fd(\u2022\u203f\u2022)\u30ce",message:"subscription updated"}),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),console.log(I),l({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(Me.a)(_e.a.mark((function e(a){var n,r;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,N({variables:{newEmail:h},refetchQueries:[{query:z,variables:{userId:t}}],awaitRefetchQueries:!0});case 4:n=e.sent,r=n.data,localStorage.setItem("flogsToken",r.updateUserEmail.value),l({type:"success",title:"\u30fd(\u2022\u203f\u2022)\u30ce",message:"email changed"}),v(""),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(j),console.log(e.t0),l({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:j});case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(Me.a)(_e.a.mark((function e(t){var a,n;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,k({variables:{password:m,newPassword:b}});case 4:a=e.sent,n=a.data,localStorage.setItem("flogsToken",n.updateUserPassword.value),l({type:"success",title:"\u30fd(\u2022\u203f\u2022)\u30ce",message:"password changed"}),u(""),p(""),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),console.log(C),l({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return M.a.createElement("section",{className:"w100 h100 user-section flex-col-center"},o||c||void 0===r?M.a.createElement(M.a.Fragment,null,o&&M.a.createElement("div",{className:"loader-spinner"},"loading..."),c&&M.a.createElement("div",null,"error loading user data...")):M.a.createElement(M.a.Fragment,null,M.a.createElement("div",{className:"user-settings-wrapper"},M.a.createElement("div",{className:"user-header-wrapper"},M.a.createElement("h1",null,"account settings"),M.a.createElement(Ie,{width:"100%"})),M.a.createElement("div",{className:"user-body-wrapper"},M.a.createElement("div",{className:"user-settings-item"},M.a.createElement("h2",null,"subscribe to be notified of updates"),M.a.createElement("div",{className:"user-subscribe-wrapper flex-row"},M.a.createElement("span",{className:"user-subscribe-label"},a?"on":"off"),M.a.createElement("label",{className:"user-unsubscribe-switch"},M.a.createElement("input",{onChange:F,checked:a,type:"checkbox"}),M.a.createElement("span",{className:"user-unsubscribe-slider"})))),M.a.createElement("div",{className:"user-settings-item"},M.a.createElement("h2",null,"change email"),M.a.createElement("form",{onSubmit:D},M.a.createElement("input",{className:"box-shadow-3",value:e,type:"email",disabled:!0}),M.a.createElement("input",{className:"box-shadow-3",value:h,onChange:function(e){var t=e.target;return v(t.value)},placeholder:"new@email.com",type:"email",minLength:3,required:!0}),M.a.createElement("button",{type:"submit",className:"primary-btn box-shadow-3"},"submit"))),M.a.createElement("div",{className:"user-settings-item"},M.a.createElement("h2",null,"change password"),M.a.createElement("form",{onSubmit:q},M.a.createElement("input",{className:"box-shadow-3",value:m,onChange:function(e){var t=e.target;return u(t.value)},placeholder:"old password",type:"password",minLength:3,required:!0}),M.a.createElement("input",{className:"box-shadow-3",value:b,onChange:function(e){var t=e.target;return p(t.value)},placeholder:"new password",type:"password",minLength:3,required:!0}),M.a.createElement("button",{type:"submit",className:"primary-btn box-shadow-3"},"submit")))))))},qt=Object(P.a)(F||(F=Object(G.a)(["\n  mutation subscribe($email: String!) {\n    subscribe(email: $email)\n  }\n"]))),$t=function(e){var t=e.type,a=Object(_.useState)({}),n=Object(U.a)(a,2),l=n[0],r=n[1],o=Object(_.useContext)(me).setNotification,c=Object(qe.a)(qt),s=Object(U.a)(c,2),i=s[0],m=s[1].loading,u=function(){var e=Object(Me.a)(_e.a.mark((function e(t){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,i({variables:l});case 4:o({type:"success",title:"\u30fd(\u30c5)\u30ce",message:"subscribed"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),o({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"subscription failed"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return M.a.createElement("div",{className:"subscribe-box subscribe-box-".concat(t)},M.a.createElement("div",{className:"subscribe-header subscribe-header-".concat(t)},"subscribe to be notified of updates"),M.a.createElement("form",{onSubmit:u,className:"flex-col-center subscribe-form subscribe-form-".concat(t)},m?M.a.createElement("div",{className:"loader-spinner"},"loading..."):M.a.createElement(M.a.Fragment,null,M.a.createElement("input",{className:"subscribe-form-input box-shadow-3",name:"email",placeholder:"your@email.com",type:"email",maxLength:"255",onChange:function(e){r(Object(D.a)(Object(D.a)({},l),{},Object(yt.a)({},e.target.name,e.target.value)))},required:!0}),M.a.createElement("button",{className:"subscribe-form-btn primary-btn box-shadow-3",type:"submit"},"subscribe"))))},Tt=function(){var e=Object(_.useContext)(me),t=e.setNotification,a=e.showEditBlogModal,n=Object(ve.g)(),l=function(e){n.push(e)};return M.a.createElement("footer",{className:"footer-section"},M.a.createElement("div",{className:"h100 m-auto footer-wrapper"},M.a.createElement("div",{className:"flex-1 h100 footer-col-left"},M.a.createElement("h4",{className:"footer-header",onClick:function(){return l("/")}},"flogs.me")),M.a.createElement("div",{className:"flex-1 h100 flex-row-center footer-col-right"},M.a.createElement("div",{className:"flex-col-center footer-right-wrapper"},M.a.createElement($t,{type:"footer"}),M.a.createElement("div",{className:"p10 w100"},M.a.createElement("div",{className:"w100 flex-row-center"},M.a.createElement("div",{title:"Twitter",onClick:function(e){e.preventDefault(),t({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"twitter NAH"})},className:"".concat(a?"icon-disable":""," footer-icon twitter-icon")}),M.a.createElement("div",{title:"GitHub",onClick:function(e){e.preventDefault();var t=window.open("https://github.com/jdalton92/flogs.me","_blank");null!=t&&t.focus()},className:"".concat(a?"icon-disable":""," footer-icon github-icon")}),M.a.createElement("div",{title:"Email",onClick:function(e){e.preventDefault(),l("/contact")},className:"".concat(a?"icon-disable":""," footer-icon email-icon")})))))))},Lt=(a(751),function(){var e=Object(_.useContext)(me).meRefetch;return Object(_.useEffect)((function(){localStorage.getItem("flogsToken")&&e()}),[]),M.a.createElement(M.a.Fragment,null,M.a.createElement(he.a,null,M.a.createElement(je,null),M.a.createElement(ye,null),M.a.createElement(ke,null),M.a.createElement(Qe,null),M.a.createElement(ve.d,null,M.a.createElement(ve.b,{exact:!0,path:"/",render:function(){return M.a.createElement(Ze,null)}}),M.a.createElement(ve.b,{exact:!0,path:"/blogs",render:function(){return M.a.createElement(Xe,{topic:null})}}),M.a.createElement(ve.b,{exact:!0,path:"/money",render:function(){return M.a.createElement(Xe,{topic:"money"})}}),M.a.createElement(ve.b,{path:"/lifestyle",render:function(){return M.a.createElement(Xe,{topic:"lifestyle"})}}),M.a.createElement(ve.b,{path:"/technology",render:function(){return M.a.createElement(Xe,{topic:"technology"})}}),M.a.createElement(ve.b,{path:"/blog/:slug",render:function(){return M.a.createElement(wt,null)}}),M.a.createElement(ve.b,{exact:!0,path:"/tools",render:function(){return M.a.createElement(St,null)}}),M.a.createElement(ve.b,{path:"/contact",render:function(){return M.a.createElement(Ft,null)}}),M.a.createElement(ve.b,{path:"/faq",render:function(){return M.a.createElement(Dt,null)}}),M.a.createElement(ve.b,{path:"/user/:id",render:function(){return M.a.createElement(_t,null)}}),M.a.createElement(we,{path:"/blog-admin",render:function(){return M.a.createElement(xt,null)}}),M.a.createElement(we,{path:"/settings",render:function(){return M.a.createElement(Mt,null)}}),M.a.createElement(ve.b,{render:function(){return M.a.createElement(xe,null)}})),M.a.createElement(Tt,null)))}),Ut=Object(Ee.a)((function(e,t){var a=t.headers,n=localStorage.getItem("flogsToken");return{headers:Object(D.a)(Object(D.a)({},a),{},{authorization:n?"bearer ".concat(n):""})}})),Qt="http://localhost:4000/graphql";Qt="https://flogs.me/graphql";var Rt=new ge.a({uri:Qt});q.a.initialize("UA-158975814-4"),q.a.pageview(window.location.pathname+window.location.search);var Gt=new be.a({cache:new pe.a,link:Ut.concat(Rt)});T.a.render(M.a.createElement(fe.a,{client:Gt},M.a.createElement(de,null,M.a.createElement(Lt,null))),document.getElementById("root"))}},[[289,1,2]]]);
//# sourceMappingURL=main.481350e8.chunk.js.map