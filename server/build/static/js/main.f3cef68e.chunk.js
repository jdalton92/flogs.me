(this["webpackJsonpflogs.me"]=this["webpackJsonpflogs.me"]||[]).push([[0],{104:function(e,t,a){e.exports=a(129)},116:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){"use strict";a.r(t);var n=a(30),r=a(0),l=a.n(r),c=a(88),o=a.n(c),i=a(24),s=a(4),m=a(84),u=a(85),d=a(7),g=a(5);function p(){var e=Object(d.a)(["\n  query userDetail($userId: ID!) {\n    userDetail(userId: $userId) {\n      ...UserDetails\n      userType\n      subscribed\n      blogs {\n        _id\n        author {\n          name\n        }\n        title\n        category\n        date\n        comments {\n          _id\n        }\n      }\n      comments {\n        _id\n        likes\n        dislikes\n        title\n        blog {\n          title\n          slug\n        }\n      }\n      savedBlogs {\n        _id\n        title\n        category\n        date\n        author {\n          name\n        }\n        comments {\n          _id\n        }\n      }\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function f(){var e=Object(d.a)(["\n  query {\n    me {\n      name\n      email\n      userType\n      _id\n    }\n  }\n"]);return f=function(){return e},e}function b(){var e=Object(d.a)(["\n  mutation editEmail($newEmail: String!) {\n    editEmail(newEmail: $newEmail) {\n      value\n    }\n  }\n"]);return b=function(){return e},e}function E(){var e=Object(d.a)(["\n  mutation editPassword($password: String!, $newPassword: String!) {\n    editPassword(password: $password, newPassword: $newPassword) {\n      value\n    }\n  }\n"]);return E=function(){return e},e}function v(){var e=Object(d.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      value\n    }\n  }\n"]);return v=function(){return e},e}function h(){var e=Object(d.a)(["\n  mutation createUser($name: String!, $email: String!, $password: String!) {\n    createUser(name: $name, email: $email, password: $password) {\n      ...UserDetails\n    }\n  }\n  ","\n"]);return h=function(){return e},e}function w(){var e=Object(d.a)(["\n  fragment UserDetails on User {\n    name\n    email\n    _id\n  }\n"]);return w=function(){return e},e}var y=Object(g.a)(w()),j=Object(g.a)(h(),y),N=Object(g.a)(v()),O=Object(g.a)(E()),x=Object(g.a)(b()),k=Object(g.a)(f()),A=Object(g.a)(p(),y);function D(){var e=Object(d.a)(["\n  mutation featureBlogs($blogId: [ID!], $type: String!) {\n    featureBlogs(blogId: $blogId, type: $type)\n  }\n"]);return D=function(){return e},e}function C(){var e=Object(d.a)(["\n  mutation removeBlogs($blogID: [ID!]) {\n    removeBlogs(blogID: $blogID) {\n      _id\n    }\n  }\n"]);return C=function(){return e},e}function S(){var e=Object(d.a)(["\n  query featuredBlogDetail($top: Int!, $field: String!, $order: String!) {\n    featuredBlogDetail(top: $top, field: $field, order: $order) {\n      title\n      date\n      slug\n      category\n      comments {\n        _id\n      }\n      author {\n        _id\n        name\n      }\n    }\n  }\n"]);return S=function(){return e},e}function I(){var e=Object(d.a)(["\n  subscription {\n    commentAdded {\n      _id\n    }\n  }\n"]);return I=function(){return e},e}function q(){var e=Object(d.a)(["\n  mutation addBlog(\n    $title: String!\n    $slug: String!\n    $category: String!\n    $tags: [String!]!\n    $content: String!\n    $img: String\n  ) {\n    addBlog(\n      title: $title\n      slug: $slug\n      category: $category\n      tags: $tags\n      content: $content\n      img: $img\n    ) {\n      ...BlogDetails\n    }\n  }\n  ","\n"]);return q=function(){return e},e}function F(){var e=Object(d.a)(["\n  query blogDetail($slug: String!) {\n    blogDetail(slug: $slug) {\n      ...BlogDetails\n      content\n      img\n      comments {\n        _id\n      }\n    }\n  }\n  ","\n"]);return F=function(){return e},e}function B(){var e=Object(d.a)(["\n  mutation saveBlog($blogId: ID!) {\n    saveBlog(blogId: $blogId) {\n      _id\n    }\n  }\n"]);return B=function(){return e},e}function T(){var e=Object(d.a)(["\n  query allBlogs($category: String, $search: String, $all: Boolean) {\n    allBlogs(category: $category, search: $search, all: $all) {\n      ...BlogDetails\n      _id\n      comments {\n        _id\n      }\n    }\n  }\n  ","\n"]);return T=function(){return e},e}function L(){var e=Object(d.a)(["\n  fragment BlogDetails on Blog {\n    _id\n    title\n    slug\n    date\n    featured\n    author {\n      _id\n      name\n    }\n    category\n    tags\n  }\n"]);return L=function(){return e},e}var _=Object(g.a)(L()),Q=Object(g.a)(T(),_),G=Object(g.a)(B()),$=Object(g.a)(F(),_),R=Object(g.a)(q(),_),U=(Object(g.a)(I()),Object(g.a)(S())),W=Object(g.a)(C()),Y=Object(g.a)(D()),Z=Object(r.createContext)(null),M=a(132),H=function(e){var t=e.children,a=Object(m.a)(k),n=a.loading,c=a.error,o=a.data,d=a.refetch,g=Object(u.a)(Q),p=Object(s.a)(g,2),f=p[0],b=p[1],E=b.data,v=b.error,h=b.loading,w=Object(r.useState)([]),y=Object(s.a)(w,2),j=y[0],N=y[1],O=Object(r.useState)(!1),x=Object(s.a)(O,2),A=x[0],D=x[1],C=Object(r.useState)(!1),S=Object(s.a)(C,2),I=S[0],q=S[1],F=Object(r.useState)("landing"),B=Object(s.a)(F,2),T=B[0],L=B[1];return l.a.createElement(Z.Provider,{value:{notifications:j,setNotification:function(e){var t=e.type,a=e.title,n=e.message;return N([].concat(Object(i.a)(j),[{type:t,title:a,message:n.replace("GraphQL error: ",""),id:Object(M.a)()}]))},removeNotification:function(e){var t=j.filter((function(t){return t.id!==e}));N(t)},open:A,setOpen:D,dropdown:I,setDropdown:q,loginView:T,setLoginView:L,meLoading:n,meError:c,meData:o,meRefetch:d,blogsSearch:f,blogsData:E,blogsError:v,blogsLoading:h}},t)},J=a(49),K=a(60),V=a(61),P=a(86),z=a(98),X=a(15),ee=a(42),te=a(81),ae=function(){var e=Object(ee.g)().location.pathname;return Object(r.useEffect)((function(){try{window.scroll({top:0,left:0,behavior:"smooth"})}catch(e){window.scrollTo(0,0)}}),[e]),null},ne=function(){return l.a.createElement("div",{style:{height:"80vh"}},l.a.createElement("h2",{style:{textAlign:"center",paddingTop:"35px"}},"invalid url"))},re=function(e){var t=e.notification,a=Object(r.useState)(!1),n=Object(s.a)(a,2),c=n[0],o=n[1],i=Object(r.useContext)(Z).removeNotification,m=t.title,u=t.message,d=t.type;return l.a.createElement("div",{className:"flex-col-center p10 box-shadow-hover notification-alert-wrapper ".concat(c?"notification-alert-close":"")},l.a.createElement("div",{className:"flex-row w100 notification-subheader-wrapper"},l.a.createElement("div",{className:"notification-".concat(d," flex-7 notification-subheader")},m),l.a.createElement("div",{className:"flex-1 flex-row notification-close-wrapper"},l.a.createElement("div",{onClick:function(e){e.preventDefault(),o(!0),setTimeout((function(){return i(t.id)}),250)},className:"flex-row-center notification-close"},"x"))),l.a.createElement("div",{className:"w100 notification-message"},u))},le=(a(116),function(){var e=Object(r.useContext)(Z).notifications;return l.a.createElement("div",{className:"flex-col notification-wrapper m10"},e.length>0?e.map((function(e,t){return l.a.createElement(re,{key:t,notification:e})})):null)}),ce=function(e){var t=e.viewType,a=Object(r.useContext)(Z),n=a.setNotification,c=a.setOpen,o=Object(ee.g)(),i=function(e){c(!1),o.push(e)};return l.a.createElement("ul",{className:"nav-items-".concat(t)},l.a.createElement("li",{onClick:function(){return i("/money")}},"money"),l.a.createElement("li",{onClick:function(){return i("/lifestyle")}},"lifestyle"),l.a.createElement("li",{onClick:function(){return i("/other-shit")}},"other shit"),l.a.createElement("li",{onClick:function(e){e.preventDefault(),c(!1),n({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"merch coming soon"})}},"merch"),l.a.createElement("li",{onClick:function(){return i("/faq")}},"faq"),l.a.createElement("li",{onClick:function(){return i("/contact")}},"contact"))},oe=a(70);function ie(){var e=Object(d.a)(["\n  z-index: 1;\n  border-bottom: 1px solid black;\n  width: ",";\n  margin: 0 auto 0 auto;\n"]);return ie=function(){return e},e}function se(){var e=Object(d.a)(["\n  position: fixed;\n  background: white;\n  transform: ",";\n  height: 100vh;\n  padding: 2rem;\n  top: 0;\n  left: 0;\n  z-index: 1;\n  transition: transform 0.6s ease-in-out;\n  overflow: hidden;\n  .menu-link-container {\n      display: flex;\n      flex-direction: column;\n      height: 80%;\n      justify-content: space-evenly;\n      align-items: center;\n  }\n  .dropdown-menu {\n      display: flex;\n      flex-direction: column;\n  }\n  .dropdown-burger-item {\n      align-text: center;\n  }\n  @media (max-width: 768px) {\n      width: 50%;\n      }\n  @media (max-width: 500px) {\n      width: 100%;\n      }  \n  }\n"]);return se=function(){return e},e}function me(){var e=Object(d.a)(["\n  left: 2rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  width: 2rem;\n  height: 2rem;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  z-index: 1;\n  &:focus {\n    outline: none;\n  }\n  div {\n    z-index: 1;\n    width: 2rem;\n    height: 0.25rem;\n    background: black;\n    border-radius: 10px;\n    transition: all 0.3s linear;\n    position: relative;\n    transform-origin: 1px;\n    :first-child {\n      transform: ",";\n    }\n    :nth-child(2) {\n      opacity: ",";\n      transform: ",";\n    }\n    :nth-child(3) {\n      transform: ",";\n    }\n  }\n"]);return me=function(){return e},e}var ue=oe.a.button(me(),(function(e){return e.open?"rotate(45deg)":"rotate(0)"}),(function(e){return e.open?"0":"1"}),(function(e){return e.open?"translateX(20px)":"translateX(0)"}),(function(e){return e.open?"rotate(-45deg)":"rotate(0)"})),de=oe.a.nav(se(),(function(e){return e.open?"translateX(0)":"translateX(-100%)"})),ge=oe.a.div(ie(),(function(e){return e.width})),pe=function(){var e=Object(r.useContext)(Z),t=e.open,a=e.setOpen;return l.a.createElement("div",{className:"nav-burger-wrapper"},l.a.createElement(ue,{open:t,onClick:function(){return a(!t)}},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null)))},fe=a(13),be=a.n(fe),Ee=a(19),ve=a(87),he=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),o=Object(s.a)(c,2),i=o[0],m=o[1],u=Object(r.useContext)(Z),d=u.meRefetch,g=u.setLoginView,p=u.setNotification,f=Object(ve.a)(N),b=Object(s.a)(f,2),E=b[0],v=b[1].loading,h=function(){var e=Object(Ee.a)(be.a.mark((function e(t){var r,l;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,E({variables:{email:a,password:i}});case 4:r=e.sent,l=r.data,localStorage.setItem("flogsToken",l.login.value),d(),g("landing"),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),p({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:e.t0.message}),n(""),m("");case 17:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return v?l.a.createElement("div",{className:"loader-spinner loading-wrapper"},"loading..."):l.a.createElement("form",{className:"nav-login-form",onSubmit:h},l.a.createElement("input",{value:a,onChange:function(e){var t=e.target;return n(t.value)},placeholder:"your@email.com",type:"email",required:!0}),l.a.createElement("input",{value:i,onChange:function(e){var t=e.target;return m(t.value)},placeholder:"password",type:"password",minLength:3,required:!0}),l.a.createElement("div",{className:"flex-row"},l.a.createElement("button",{className:"primary-btn",type:"submit"},"login"),l.a.createElement("button",{className:"secondary-btn nav-cancel-btn",onClick:function(){return g("landing")},type:"button"},"cancel")))},we=function(e){var t=Object(r.useRef)(null);return function(e){var t=Object(r.useContext)(Z),a=t.dropdown,n=t.setDropdown,l=function(t){e.current&&!e.current.contains(t.target)&&a&&n(!1)};Object(r.useEffect)((function(){return document.addEventListener("mousedown",l),function(){document.removeEventListener("mousedown",l)}}))}(t),l.a.createElement("div",{ref:t},e.children)},ye=function(){var e=Object(r.useContext)(Z),t=e.dropdown,a=e.setDropdown,n=e.setLoginView,c=e.meData,o=e.meLoading,i=e.loginLoading,s=e.meRefetch,m=Object(ee.g)(),u=function(e){a(!1),m.push(e)};return o||i?l.a.createElement("div",{className:"loader-spinner loading-wrapper"},"loading..."):l.a.createElement(l.a.Fragment,null,void 0!==c&&c.me?l.a.createElement("div",{className:"h100 nav-user-wrapper"},l.a.createElement(we,null,l.a.createElement("div",{onClick:function(e){e.preventDefault(),a(!t)},className:"flex-col-center nav-user-container"},l.a.createElement("div",{className:"w100 flex-row nav-user-icon-wrapper"},l.a.createElement("div",{alt:"user",title:"user",className:"user-icon"}),l.a.createElement("i",{className:"navbar-arrow-down"})),l.a.createElement("div",null,c.me.name)),l.a.createElement("div",{className:"".concat(t?"nav-dropdown-wrapper-show":"nav-dropdown-wrapper-shrink"," nav-dropdown-wrapper")},l.a.createElement("div",{className:"".concat(t?"nav-dropdown-show":"nav-dropdown-shrink"," flex-col-center nav-dropdown")},l.a.createElement("div",{onClick:function(){return u("/user/".concat(c.me._id))},className:"flex-1 w100 flex-row-center nav-link"},"user profile"),"admin"===c.me.userType&&l.a.createElement("div",{onClick:function(){return u("/blog-admin")},className:"flex-1 w100 flex-row-center nav-link"},"blog admin"),l.a.createElement("div",{onClick:function(e){e.preventDefault(),localStorage.removeItem("flogsToken"),s(),a(!1),n("landing")},className:"flex-1 w100 flex-row-center nav-link"},"logout"))))):l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"primary-btn login-btn",onClick:function(){return n("login")}},"login"),l.a.createElement("button",{className:"secondary-btn signup-btn",onClick:function(){return n("signUp")}},"sign up")))},je=function(){var e=Object(r.useContext)(Z),t=e.setLoginView,a=e.setNotification,n=Object(r.useState)(""),c=Object(s.a)(n,2),o=c[0],i=c[1],m=Object(r.useState)(""),u=Object(s.a)(m,2),d=u[0],g=u[1],p=Object(r.useState)(""),f=Object(s.a)(p,2),b=f[0],E=f[1],v=Object(ve.a)(j),h=Object(s.a)(v,2),w=h[0],y=h[1].loading,N=function(){var e=Object(Ee.a)(be.a.mark((function e(n){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,w({variables:{name:o,email:d,password:b}});case 4:t("landing"),a({type:"success",title:"\u30fd(\u2022\u203f\u2022)\u30ce",message:"account created"}),e.next=15;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),a({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:e.t0.message}),i(""),g(""),E("");case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return y?l.a.createElement("div",{className:"loader-spinner loading-wrapper"},"loading..."):l.a.createElement("form",{className:"nav-signup-form",onSubmit:N},l.a.createElement("input",{value:o,onChange:function(e){var t=e.target;return i(t.value)},placeholder:"full name",type:"text",required:!0}),l.a.createElement("input",{value:d,onChange:function(e){var t=e.target;return g(t.value)},placeholder:"your@email.com",type:"email",required:!0}),l.a.createElement("input",{value:b,onChange:function(e){var t=e.target;return E(t.value)},placeholder:"password",type:"password",minLength:3,required:!0}),l.a.createElement("div",{className:"flex-row"},l.a.createElement("button",{className:"primary-btn",type:"submit"},"sign up"),l.a.createElement("button",{className:"secondary-btn nav-cancel-btn",onClick:function(){return t("landing")},type:"button"},"cancel")))},Ne=(a(118),function(){var e=Object(r.useContext)(Z),t=e.open,a=e.loginView,n=e.meData,c=Object(ee.g)();return l.a.createElement("nav",{className:"flex-col-center"},l.a.createElement("div",{className:"w100 logo-wrapper flex-row"},l.a.createElement("h1",{title:"flogs.me",onClick:function(){return e="/",void c.push(e);var e}},"flogs.me"),l.a.createElement("div",{className:"login-wrapper ".concat(void 0!==n&&n.me?"login-wrapper-loggedin":"")},"landing"===a&&l.a.createElement(ye,null),"signUp"===a&&l.a.createElement(je,null),"login"===a&&l.a.createElement(he,null))),l.a.createElement("div",{className:"flex-row-center nav-items-wrapper"},l.a.createElement(pe,null),l.a.createElement(de,{open:t},l.a.createElement("div",{className:"flex-row-center"},l.a.createElement(pe,null)),l.a.createElement(ce,{viewType:"mobile"})),l.a.createElement("ul",{className:"w100 flex-row-center nav-items"},l.a.createElement(ce,{viewType:"desktop"}))))}),Oe=a(94),xe=a.n(Oe),ke=a(95),Ae=a.n(ke),De=(a(119),function(e){var t=e.title,a=e.dataObject,n=e.loading,r=e.error,c=Object(ee.g)(),o=function(e){c.push(e)},i=function(e){var t=e.data;return 0===t.length?l.a.createElement("div",null,"No data"):Object.keys(a)[0].toLowerCase().includes("blog")?l.a.createElement(l.a.Fragment,null,t.map((function(e,t){return l.a.createElement("div",{key:t,className:"featured-list-item"},l.a.createElement(ge,{width:"75%"}),l.a.createElement("div",{className:"featured-list-title"},l.a.createElement("h2",{className:"featured-list-link",onClick:function(){return o("/blog/".concat(e.slug))}},e.title)),l.a.createElement("div",{className:"featured-list-info"},l.a.createElement("span",null,"by:"," ",l.a.createElement("b",{className:"featured-list-link",onClick:function(){return o("/user/".concat(e.author._id))}},e.author.name)," "),l.a.createElement("span",null,"on: ",l.a.createElement("b",null,new Intl.DateTimeFormat("en-GB").format(e.date)))),l.a.createElement("div",{className:"featured-list-info"},l.a.createElement("span",null,"posted to:"," ",l.a.createElement("b",{className:"featured-list-link",onClick:function(){return o("/".concat(e.category))}},e.category))," ",l.a.createElement("span",null,"with:"," ",l.a.createElement("b",null,e.comments.length," ",1===e.comments.length?"comment":"comments"))))}))):l.a.createElement(l.a.Fragment,null,t.map((function(e,t){return l.a.createElement("div",{key:t,className:"featured-list-item"},l.a.createElement(ge,{width:"75%"}),l.a.createElement("div",{className:"featured-list-title"},l.a.createElement("h2",{className:"featured-list-link",onClick:function(){return o("/blog/".concat(e.blog.slug))}},e.title)),l.a.createElement("div",{className:"featured-list-info"},l.a.createElement("span",null,"blog:"," ",l.a.createElement("b",{className:"featured-list-link",onClick:function(){return o("/blog/".concat(e.blog.slug))}},e.blog.title," ")),l.a.createElement("span",null,"on: ",l.a.createElement("b",null,new Intl.DateTimeFormat("en-GB").format(e.date)))),l.a.createElement("div",{className:"featured-list-info"},l.a.createElement("span",null,"likes: ",l.a.createElement("b",null,e.likes)," "),l.a.createElement("span",null,"dislikes: ",l.a.createElement("b",null,e.dislikes))))})))};return l.a.createElement("div",{className:"featured-list-wrapper box-shadow-on-hover"},l.a.createElement("div",{className:"featured-list-header"},l.a.createElement("h2",null,l.a.createElement("u",null,t))),l.a.createElement("div",{className:"featured-list-body"},n||r||void 0===a?l.a.createElement(l.a.Fragment,null,n&&l.a.createElement("div",{className:"loader-spinner"},"loading..."),r&&l.a.createElement("div",{style:{marginTop:"10px",textAlign:"center"}},"error loading data...")):l.a.createElement(l.a.Fragment,null,l.a.createElement(i,{data:Object.values(a)[0]})),l.a.createElement(ge,{width:"75%"})))}),Ce=(a(120),function(){var e=Object(m.a)(U,{variables:{field:"comments",top:5,order:"descending"}}),t=e.data,a=e.error,n=e.loading,r=Object(m.a)(U,{variables:{field:"date",top:5,order:"descending"}}),c=r.data,o=r.error,i=r.loading,s=Object(m.a)(U,{variables:{field:"featured",top:5,order:"descending"}}),u=s.data,d=s.error,g=s.loading;return l.a.createElement("section",{className:"w100 h100 home-section"},l.a.createElement("div",{className:"w100 home-description-wrapper"},l.a.createElement("h1",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.")),l.a.createElement(ge,{width:"80%"}),l.a.createElement("div",{className:"featured-lists-wrapper"},l.a.createElement(De,{title:"featured blogs",dataObject:u,error:d,loading:g}),l.a.createElement(De,{title:"most commented blogs",dataObject:t,error:a,loading:n}),l.a.createElement(De,{title:"most recent blogs",dataObject:c,error:o,loading:i})),l.a.createElement("div",{className:"h100 home-img-wrapper"},l.a.createElement("div",{className:"h100 home-img-left"},l.a.createElement("h2",null,"you before flogs.me"),l.a.createElement("img",{alt:"unhappy",src:xe.a,className:"home-img-unhappy"})),l.a.createElement("div",{className:"h100 home-img-right"},l.a.createElement("h2",null,"you after flogs.me"),l.a.createElement("img",{alt:"unhappy",src:Ae.a,className:"home-img-happy"}))),l.a.createElement("div",{className:"flex-row-center w100 home-caption-wrapper"},l.a.createElement("h2",{className:"w100 home-caption"},"sign up now.")))}),Se=function(){var e=Object(r.useContext)(Z),t=e.setNotification,a=e.blogsSearch,n=e.blogsError,c=Object(r.useState)(""),o=Object(s.a)(c,2),i=o[0],m=o[1];return l.a.createElement("div",{className:"blog-search-wrapper"},l.a.createElement("form",{className:"w100 blog-search-form",onSubmit:function(e){e.preventDefault();try{a({variables:{search:i}})}catch(e){console.log(n),t({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:e.message})}}},l.a.createElement("div",{className:"w100 flex-row"},l.a.createElement("input",{className:"w100 p5",name:"search",placeholder:"search title, tags, or category",type:"text",onChange:function(e){var t=e.target;return m(t.value)},maxLength:50,required:!0}),l.a.createElement("button",{className:"primary-btn",type:"submit"},"search"))))},Ie=function(e){var t=e.blog,a=t.title,n=t.slug,r=t.category,c=t.date,o=t.author,i=t.comments,s=t.tags,m=Object(ee.g)(),u=new Intl.DateTimeFormat("en-GB").format(c);return l.a.createElement("div",{onClick:function(){return e="blog/".concat(n),void m.push(e);var e},className:"p20 flex-col box-shadow-on-hover blogcard-wrapper"},l.a.createElement("div",{className:"blogcard-header-wrapper"},l.a.createElement("h2",{className:"blogcard-title"},a)),l.a.createElement("div",{className:"blogcard-details"},l.a.createElement("p",null,l.a.createElement("b",null,"posted to: "),l.a.createElement("span",null,r)),l.a.createElement("p",null,l.a.createElement("b",null,"posted on: "),l.a.createElement("span",null,u)),l.a.createElement("p",null,l.a.createElement("b",null,"posted by: "),l.a.createElement("span",null,o.name)),l.a.createElement("p",null,l.a.createElement("b",null,"tags: "),l.a.createElement("span",null,s.join(", "))),l.a.createElement("p",null,l.a.createElement("b",null,"with: "),l.a.createElement("span",null,i.length," ",1===i.length?"comment":"comments"))))},qe=(a(121),function(e){var t=e.topic,a=Object(r.useContext)(Z),n=a.blogsSearch,c=a.blogsData,o=a.blogsLoading,m=a.blogsError,u=Object(r.useState)("newest"),d=Object(s.a)(u,2),g=d[0],p=d[1];Object(r.useEffect)((function(){n({variables:{category:t}})}),[t]);var f=[];switch(o||m||void 0===c||(f=Object(i.a)(c.allBlogs)),g){case"newest":f.sort((function(e,t){return t.date-e.date}));break;case"oldest":f.sort((function(e,t){return e.date-t.date}));break;case"comments":f.sort((function(e,t){return t.comments.length-e.comments.length}));break;default:f=[]}return l.a.createElement("section",{className:"blogs-section flex-row"},l.a.createElement("div",{className:"flex-col m-auto blogs-wrapper"},l.a.createElement(Se,{topic:{topic:t}}),l.a.createElement("div",{className:"blogs-result-wrapper"},o||m||void 0===c?l.a.createElement(l.a.Fragment,null,o&&l.a.createElement("div",{className:"loader-spinner"},"loading..."),m&&l.a.createElement("div",{style:{marginTop:"10px",textAlign:"center"}},"error loading blog data...")):l.a.createElement(l.a.Fragment,null,0===c.allBlogs.length&&l.a.createElement("div",{style:{paddingTop:"25px"}},"no results..."),c.allBlogs.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"blogs-sort"},l.a.createElement("select",{defaultValue:"newest",onChange:function(e){e.preventDefault(),p(e.target.value)}},l.a.createElement("option",{value:"newest"},"newest"),l.a.createElement("option",{value:"oldest"},"oldest"),l.a.createElement("option",{value:"comments"},"most comments"))),l.a.createElement("div",{className:"blogcards-wrapper"},f.map((function(e){return l.a.createElement(Ie,{key:e._id,blog:e})}))))))))});function Fe(){var e=Object(d.a)(["\n  mutation dislikeComment($commentId: ID!) {\n    dislikeComment(commentId: $commentId) {\n      dislikes\n    }\n  }\n"]);return Fe=function(){return e},e}function Be(){var e=Object(d.a)(["\n  mutation likeComment($commentId: ID!) {\n    likeComment(commentId: $commentId) {\n      likes\n    }\n  }\n"]);return Be=function(){return e},e}function Te(){var e=Object(d.a)(["\n  mutation addComment($blogId: ID!, $title: String!, $comment: String!) {\n    addComment(blogId: $blogId, title: $title, comment: $comment) {\n      title\n      author {\n        name\n      }\n      comment\n      likes\n      dislikes\n    }\n  }\n"]);return Te=function(){return e},e}function Le(){var e=Object(d.a)(["\n  query commentDetail($slug: String!) {\n    commentDetail(slug: $slug) {\n      _id\n      author {\n        _id\n        name\n      }\n      title\n      comment\n      date\n      likes\n      dislikes\n    }\n  }\n"]);return Le=function(){return e},e}var _e=Object(g.a)(Le()),Qe=Object(g.a)(Te()),Ge=Object(g.a)(Be()),$e=Object(g.a)(Fe()),Re=a(96),Ue=a.n(Re),We=a(97),Ye=a.n(We),Ze=function(e){var t=e.id,a=Object(ee.h)().slug,n=Object(r.useContext)(Z),c=n.setNotification,o=n.meData,i=Object(ve.a)(Ge),m=Object(s.a)(i,2),u=m[0],d=m[1],g=d.loading,p=d.error,f=Object(ve.a)($e),b=Object(s.a)(f,2),E=b[0],v=b[1],h=v.loading,w=v.error;return l.a.createElement("div",{className:"blog-like-wrapper"},g||h?l.a.createElement("div",{className:"loader-spinner blog-comment-loader"},"loading..."):l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{alt:"like",className:"blog-comment-like",onClick:function(){return function(e){if(o.me)try{u({variables:{commentId:e},refetchQueries:[{query:_e,variables:{slug:a}}],awaitRefetchQueries:!0})}catch(t){console.log(p),c({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:t.message})}else c({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"log in to like"})}(t)},title:"like",src:Ue.a}),l.a.createElement("img",{alt:"dislike",className:"blog-comment-dislike",onClick:function(){return function(e){if(o.me)try{E({variables:{commentId:e},refetchQueries:[{query:_e,variables:{slug:a}}],awaitRefetchQueries:!0})}catch(t){console.log(w),c({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:t.message})}else c({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"log in to dislike"})}(t)},title:"dislike",src:Ye.a})))},Me=function(e){var t=e.commentData,a=Object(ee.g)(),n=Object(r.useState)("newest"),c=Object(s.a)(n,2),o=c[0],m=c[1],u=Object(i.a)(t.commentDetail);switch(o){case"newest":u.sort((function(e,t){return t.date-e.date}));break;case"oldest":u.sort((function(e,t){return e.date-t.date}));break;case"likes":u.sort((function(e,t){return t.likes-e.likes}));break;case"dislikes":u.sort((function(e,t){return t.dislikes-e.dislikes}));break;default:u=Object(i.a)(t.commentDetail)}return 0===u.length?l.a.createElement("div",null,"no comments..."):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"blog-comments-sort"},l.a.createElement("select",{defaultValue:"newest",onChange:function(e){e.preventDefault(),m(e.target.value)}},l.a.createElement("option",{value:"newest"},"newest"),l.a.createElement("option",{value:"oldest"},"oldest"),l.a.createElement("option",{value:"likes"},"most likes"),l.a.createElement("option",{value:"dislikes"},"most dislikes"))),l.a.createElement("div",{className:"blog-comments-list-wrapper"},u.map((function(e){return l.a.createElement("div",{key:e._id,className:"p10 blog-comment-wrapper"},l.a.createElement("div",{className:"flex-col"},l.a.createElement("div",{className:"flex-row blog-comment-header"},l.a.createElement("div",{className:"blog-comment-title"},e.title),l.a.createElement(Ze,{id:e._id})),l.a.createElement("div",{className:"flex-row blog-comment-subheader"},l.a.createElement("div",{className:"blog-comment-author"},"by"," ",l.a.createElement("b",{className:"blog-comment-author-link",onClick:function(){return t=e.author._id,void a.push("/user/".concat(t));var t}},e.author.name)," ","on ",l.a.createElement("b",null,new Intl.DateTimeFormat("en-GB").format(e.date))))),l.a.createElement("div",{className:"blog-comment-detail"},e.comment),l.a.createElement("div",{className:"blog-comment-likes"},"likes: ",l.a.createElement("b",null,e.likes)," | dislikes: ",l.a.createElement("b",null,e.dislikes)))}))))},He=function(e){var t=e.id,a=e.commentRef,n=Object(ee.h)().slug,c=Object(r.useContext)(Z),o=c.setNotification,i=c.meData,m=Object(r.useState)(""),u=Object(s.a)(m,2),d=u[0],g=u[1],p=Object(r.useState)(""),f=Object(s.a)(p,2),b=f[0],E=f[1],v=Object(ve.a)(Qe),h=Object(s.a)(v,2),w=h[0],y=h[1].error;return l.a.createElement("div",{className:"w100 blog-add-comment-wrapper"},l.a.createElement("form",{className:"w100 flex-col blog-add-comment-form",onSubmit:function(e){if(e.preventDefault(),i.me)try{w({variables:{blogId:t,title:d,comment:b},refetchQueries:[{query:_e,variables:{slug:n}}],awaitRefetchQueries:!0}),g(""),E(""),o({type:"success",title:"\u30fd(\u2022\u203f\u2022)\u30ce",message:"comment added"})}catch(e){console.log(y),o({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:e.message})}else o({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"log in to comment"})}},l.a.createElement("input",{ref:a,value:d,onChange:function(e){var t=e.target;return g(t.value)},type:"text",name:"title",placeholder:"title",maxLength:100,autoComplete:"off",required:!0}),l.a.createElement("textarea",{value:b,onChange:function(e){var t=e.target;return E(t.value)},type:"text",name:"comment",placeholder:"comment",maxLength:500,autoComplete:"off",required:!0}),l.a.createElement("button",{className:"primary-btn",type:"submit"},"add comment")))},Je=function(){var e,t,a,n,c=Object(r.useRef)(null),o=Object(ee.h)().slug,i=Object(ee.g)(),u=Object(r.useContext)(Z),d=u.setNotification,g=u.meData,p=Object(ve.a)(G),f=Object(s.a)(p,2),b=f[0],E=f[1].error,v=Object(m.a)($,{variables:{slug:o}}),h=v.data,w=v.error,y=v.loading,j=v.refetch,N=Object(m.a)(_e,{variables:{slug:o}}),O=N.data,x=N.error,k=N.loading;Object(r.useEffect)((function(){j()}),[o]);var A,D,C,S,I={name:""};y||w||(t=h.blogDetail._id,e=h.blogDetail.title,a=h.blogDetail.category,n=new Intl.DateTimeFormat("en-GB").format(h.blogDetail.date),I=h.blogDetail.author,A=h.blogDetail.comments,D=h.blogDetail.tags,C=h.blogDetail.content,S=h.blogDetail.img);var q=function(e){i.push(e)},F=function(){var e=Object(Ee.a)(be.a.mark((function e(a){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),g.me){e.next=4;break}return d({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"log in to save blog"}),e.abrupt("return");case 4:return e.prev=4,e.next=7,b({variables:{blogId:t}});case 7:d({type:"success",title:"\u30fd(\u2022\u203f\u2022)\u30ce",message:"blog saved"}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),console.log(E),d({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),B=function(e){e.preventDefault(),c.current.focus()},T=function(e){try{q("/".concat(e))}catch(t){console.log(t),d({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:t.message})}},L="flogs contributor";switch(I.userType){case"standard":L="flogs contributor";break;case"admin":L="flogs admin";break;default:L="flogs contributor"}return l.a.createElement("section",{className:"blog-section w100 h100"},l.a.createElement("div",{className:"flex-col-center blog-wrapper"},y||w?l.a.createElement(l.a.Fragment,null,y&&l.a.createElement("div",{className:"loader-spinner"},"loading..."),w&&l.a.createElement("div",null,"error loading blog...")):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"w100 blog-header-wrapper"},l.a.createElement("h2",{className:"blog-title"},e),l.a.createElement("div",{className:"m-auto blog-details"},l.a.createElement("span",null,"posted to:"," ",l.a.createElement("b",{className:"blog-details-link",onClick:function(){return q("/".concat(a))}},a)," ","|"," "),l.a.createElement("span",null,"posted on: ",l.a.createElement("b",null,n)," |"," "),l.a.createElement("span",null,"with:"," ",l.a.createElement("b",{className:"blog-details-link",onClick:B},A.length," ",1===A.length?"comment":"comments")," ","|"," "),l.a.createElement("span",null,D.length>0?l.a.createElement(l.a.Fragment,null,"tags:"," ",D.map((function(e,t){return l.a.createElement("b",{key:t,className:"blog-details-link",onClick:T},e,t===D.length-1?"":", ")}))):null))),S?l.a.createElement("div",{className:"w100 blog-body-image-wrapper"},l.a.createElement("img",{className:"blog-body-image",alt:"img",src:S})):null,l.a.createElement("div",{className:"blog-body-wrapper"},l.a.createElement("div",{className:"blog-author-wrapper"},l.a.createElement("span",{className:"blog-author-name",onClick:function(){return q("/user/".concat(I._id))}},I.name),l.a.createElement("div",{className:"blog-author-description"},L),l.a.createElement("div",{className:"flex-row blog-author-btn-wrapper"},l.a.createElement("button",{onClick:F,className:"primary-btn"},"save"),l.a.createElement("button",{onClick:B,className:"secondary-btn"},"comment"))),l.a.createElement("div",{className:"flex-3 flex-col blog-body-content",dangerouslySetInnerHTML:{__html:C}}),l.a.createElement("aside",{className:"flex-1 blog-aside-wrapper"},"ASIDE")),l.a.createElement("div",{className:"blog-comments-wrapper"},l.a.createElement(He,{id:t,commentRef:c}),l.a.createElement("div",{className:"blog-comments-header"},l.a.createElement("h2",null,"comments")),k||x?l.a.createElement(l.a.Fragment,null,k&&l.a.createElement("div",{className:"loader-spinner"},"loading..."),x&&l.a.createElement("div",{style:{marginTop:"10px",textAlign:"center"}},"error loading comments...")):l.a.createElement(Me,{commentData:O})))))},Ke=a(41),Ve=(a(122),function(){var e=Object(r.useContext)(Z),t=e.setNotification,a=e.meData,c=e.blogsSearch,o=e.blogsData,m=e.blogsLoading,u=e.blogsError,d=Object(r.useState)([]),g=Object(s.a)(d,2),p=g[0],f=g[1],b=Object(r.useState)([]),E=Object(s.a)(b,2),v=E[0],h=E[1],w=Object(r.useState)([]),y=Object(s.a)(w,2),j=y[0],N=y[1],O=Object(r.useState)({tags:[]}),x=Object(s.a)(O,2),k=x[0],A=x[1],D=Object(r.useState)(""),C=Object(s.a)(D,2),S=C[0],I=C[1],q=Object(ve.a)(R),F=Object(s.a)(q,2),B=F[0],T=F[1],L=T.error,_=T.loading,G=Object(ve.a)(W),$=Object(s.a)(G,2),M=$[0],H=$[1],J=H.error,K=H.loading,V=Object(ve.a)(Y),P=Object(s.a)(V,2),z=P[0],X=P[1],ee=X.error,te=X.loading;Object(r.useEffect)((function(){c({variables:{all:!0}})}),[]);var ae=function(e){A(Object(n.a)({},k,Object(Ke.a)({},e.target.name,e.target.value)))};return l.a.createElement("section",{className:"w100 blog-admin-section"},l.a.createElement("div",{className:"m-auto blog-featured-wrapper"},l.a.createElement("div",{className:"blog-featured-header-wrapper"},l.a.createElement("h1",null,"set featured blogs"),l.a.createElement(ge,{width:"100%"})),m||u||void 0===o||ee||te?l.a.createElement(l.a.Fragment,null,(m||te)&&l.a.createElement("div",{className:"loader-spinner"},"loading..."),(u||ee)&&l.a.createElement("div",{style:{marginTop:"10px",textAlign:"center"}},"error updating blogs...")):l.a.createElement("form",{className:"w100 flex-col blog-featured-form"},l.a.createElement("div",{className:"blog-featured-lists"},l.a.createElement("div",{className:"blog-featured-list"},l.a.createElement("h2",null,"blogs"),l.a.createElement("select",{className:"blog-featured-input",onChange:function(e){for(var t=e.target.options,a=[],n=0,r=t.length;n<r;n++)t[n].selected&&a.push(t[n].value);N(a)},name:"non-featured-blogs",multiple:!0,required:!0},o.allBlogs.filter((function(e){return!e.featured})).map((function(e,t){return l.a.createElement("option",{key:t,value:e._id},"title: ",e.title," | author: ",e.author.name," | date:"," ",new Intl.DateTimeFormat("en-GB").format(e.date))}))),l.a.createElement("button",{onClick:function(e){e.preventDefault();try{z({variables:{blogId:Object(i.a)(j),type:"setFeatured"},refetchQueries:[{query:Q,variables:{all:!0}},{query:U,variables:{field:"featured",top:5,order:"descending"}}],awaitRefetchQueries:!0})}catch(e){console.log(ee),t({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:e.message})}},className:"secondary-btn featured-list-update-btn",type:"button"},"feature >>")),l.a.createElement("div",{className:"blog-featured-list"},l.a.createElement("h2",null,"featured blogs"),l.a.createElement("select",{className:"blog-featured-input",onChange:function(e){for(var t=e.target.options,a=[],n=0,r=t.length;n<r;n++)t[n].selected&&a.push(t[n].value);h(a)},name:"featured-blogs",multiple:!0,required:!0},o.allBlogs.filter((function(e){return e.featured})).map((function(e,t){return l.a.createElement("option",{key:t,value:e._id},"title: ",e.title," | author: ",e.author.name," | date:"," ",new Intl.DateTimeFormat("en-GB").format(e.date))}))),l.a.createElement("button",{onClick:function(e){e.preventDefault();try{z({variables:{blogId:Object(i.a)(v),type:"setNonFeatured"},refetchQueries:[{query:Q,variables:{all:!0}},{query:U,variables:{field:"featured",top:5,order:"descending"}}],awaitRefetchQueries:!0})}catch(e){console.log(ee),t({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:e.message})}},className:"secondary-btn featured-list-update-btn",type:"button"},"<< unfeature"))))),l.a.createElement("div",{className:"m-auto blog-add-wrapper"},l.a.createElement("div",{className:"blog-add-header-wrapper"},l.a.createElement("h1",null,"add blog"),l.a.createElement(ge,{width:"100%"})),_||L?l.a.createElement(l.a.Fragment,null,_&&l.a.createElement("div",{className:"loader-spinner"},"loading..."),L&&l.a.createElement("div",{style:{marginTop:"10px",textAlign:"center"}},"error deleting blog...")):l.a.createElement("form",{className:"w100 flex-col blog-add-form",onSubmit:function(e){e.preventDefault();try{B({variables:Object(n.a)({},k,{authorId:a.me._id})}),t({type:"success",title:"\u30fd(\u2022\u203f\u2022)\u30ce",message:"blog added"})}catch(e){console.log(L),t({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:e.message})}}},l.a.createElement("input",{className:"blog-add-input",onChange:ae,type:"text",name:"title",placeholder:"title",required:!0}),l.a.createElement("input",{className:"blog-add-input",onChange:ae,type:"text",name:"slug",placeholder:"slug",required:!0}),l.a.createElement("select",{className:"blog-add-input",onChange:ae,name:"category",defaultValue:"",required:!0},l.a.createElement("option",{value:"",hidden:!0,disabled:!0},"choose a category..."),l.a.createElement("option",{value:"money"},"money"),l.a.createElement("option",{value:"lifestyle"},"lifestyle"),l.a.createElement("option",{value:"other-shit"},"other shit")),l.a.createElement("div",{className:"flex-row blog-add-input blog-add-tags-wrapper"},l.a.createElement("input",{value:S,onChange:function(e){e.preventDefault(),I(e.target.value)},type:"text",name:"tags",placeholder:"add tag"}),l.a.createElement("button",{onClick:function(e){e.preventDefault(),A(Object(n.a)({},k,{tags:[].concat(Object(i.a)(k.tags),[S])})),I("")},type:"button",className:"secondary-btn blog-add-tags-btn"},"add tag")),l.a.createElement("div",{className:"blog-add-input blog-add-tags-list"},"tags: ",k.tags?k.tags.join(", "):"none"),l.a.createElement("input",{className:"blog-add-input",onChange:ae,type:"url",name:"img",placeholder:"image url",required:!0}),l.a.createElement("textarea",{className:"blog-add-input",onChange:ae,type:"text",name:"content",placeholder:"content",required:!0}),l.a.createElement("button",{className:"primary-btn",type:"submit"},"add blog"))),l.a.createElement("div",{className:"m-auto blog-delete-wrapper"},l.a.createElement("div",{className:"blog-delete-header-wrapper"},l.a.createElement("h1",null,"delete blog"),l.a.createElement(ge,{width:"100%"})),m||u||void 0===o||J||K?l.a.createElement(l.a.Fragment,null,(m||K)&&l.a.createElement("div",{className:"loader-spinner"},"loading..."),(u||J)&&l.a.createElement("div",{style:{marginTop:"10px",textAlign:"center"}},"error deleting blog...")):l.a.createElement("form",{className:"w100 flex-col blog-delete-form",onSubmit:function(e){if(e.preventDefault(),window.confirm("delete ".concat(M.length," blog(s)? ")))try{M({variables:{blogID:Object(i.a)(p)}})}catch(e){console.log(J),t({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:e.message})}}},l.a.createElement("select",{className:"blog-delete-input",onChange:function(e){for(var t=e.target.options,a=[],n=0,r=t.length;n<r;n++)t[n].selected&&a.push(t[n].value);f(a)},name:"category",multiple:!0,required:!0},o.allBlogs.map((function(e,t){return l.a.createElement("option",{key:t,value:e._id},"title: ",e.title," | author: ",e.author.name," | comments:"," ",e.comments.length," | date:"," ",new Intl.DateTimeFormat("en-GB").format(e.date))}))),l.a.createElement("button",{className:"primary-btn",type:"submit"},"delete blog(s)"))))});function Pe(){var e=Object(d.a)(["\n  mutation contact($fullName: String!, $email: String!, $message: String!) {\n    contact(fullName: $fullName, email: $email, message: $message) {\n      message\n    }\n  }\n"]);return Pe=function(){return e},e}var ze=Object(g.a)(Pe()),Xe=(a(123),function(){var e=Object(r.useState)({}),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(r.useContext)(Z).setNotification,i=Object(ve.a)(ze),m=Object(s.a)(i,2),u=m[0],d=m[1].loading,g=function(e){c(Object(n.a)({},a,Object(Ke.a)({},e.target.name,e.target.value)))},p=function(){var e=Object(Ee.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,u({variables:a});case 4:c({}),o({type:"success",title:"\u30fd(\u2022\u203f\u2022)\u30ce",message:"email sent"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),o({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"email failed"});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("section",{className:"contact-section flex-col"},l.a.createElement("div",{className:"flex-col-center form-wrapper"},d?l.a.createElement("div",{className:"loader-spinner"},"Loading..."):l.a.createElement("form",{onSubmit:p},l.a.createElement("div",{className:"form-field"},l.a.createElement("input",{onChange:g,name:"fullName",placeholder:"name",className:"form-input",type:"text",maxLength:100,autoComplete:"off",required:!0})),l.a.createElement("div",{className:"form-field"},l.a.createElement("input",{onChange:g,placeholder:"your@email.com",name:"email",className:"form-input",type:"email",maxLength:150,autoComplete:"off",required:!0})),l.a.createElement("div",{className:"form-field message-field"},l.a.createElement("textarea",{onChange:g,name:"message",placeholder:"message",className:"form-input",id:"form-message",input:"text",maxLength:1250,autoComplete:"off",required:!0})),l.a.createElement("div",{className:"form-button-container"},l.a.createElement("button",{className:"primary-btn form-button",id:"form-submit",type:"submit",variant:"primary"},"Submit")))))}),et=(a(124),function(){var e=Object(ee.g)();return l.a.createElement("section",{className:"FAQ-section w100 flex-col"},l.a.createElement("div",{className:"flex-col FAQ-wrapper"},l.a.createElement("div",{className:"p10 FAQ-item-wrapper"},l.a.createElement("h2",null," what is flogs.me"),l.a.createElement("p",null,"website")),l.a.createElement("div",{className:"p10 FAQ-item-wrapper"},l.a.createElement("h2",null,"why was flogs.me made"),l.a.createElement("p",null,"bored")),l.a.createElement("div",{className:"p10 FAQ-item-wrapper"},l.a.createElement("h2",null," what are flogs"),l.a.createElement("p",null,"you")),l.a.createElement("div",{className:"p10 FAQ-item-wrapper"},l.a.createElement("h2",null,"is flogs.me financial advise"),l.a.createElement("p",null,"nah")),l.a.createElement("div",{className:"p10 FAQ-item-wrapper"},l.a.createElement("h2",null,"what are your qualifications"),l.a.createElement("p",null,"literally none")),l.a.createElement("div",{className:"p10 FAQ-item-wrapper"},l.a.createElement("h2",null," can I contribute"),l.a.createElement("p",{className:"FAQ-link",onClick:function(){return t="/contact",void e.push(t);var t}},"yep"))))}),tt=function(e){var t,a=e.id,n=Object(r.useContext)(Z),c=n.setNotification,o=n.meData,i=n.meLoading,m=n.meError,u=Object(r.useState)(!0),d=Object(s.a)(u,2),g=d[0],p=d[1],f=Object(r.useState)(""),b=Object(s.a)(f,2),E=b[0],v=b[1],h=Object(r.useState)(""),w=Object(s.a)(h,2),y=w[0],j=w[1],N=Object(r.useState)(""),k=Object(s.a)(N,2),D=k[0],C=k[1],S=Object(ve.a)(x),I=Object(s.a)(S,2),q=I[0],F=I[1].error,B=Object(ve.a)(O),T=Object(s.a)(B,2),L=T[0],_=T[1].error,Q=function(){var e=Object(Ee.a)(be.a.mark((function e(t){var n,r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,q({variables:{newEmail:D},refetchQueries:[{query:A,variables:{userId:a}}],awaitRefetchQueries:!0});case 4:n=e.sent,r=n.data,localStorage.setItem("flogsToken",r.editEmail.value),c({type:"success",title:"\u30fd(\u2022\u203f\u2022)\u30ce",message:"email changed"}),C(""),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(F),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(Ee.a)(be.a.mark((function e(t){var a,n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,L({variables:{password:E,newPassword:y}});case 4:a=e.sent,n=a.data,localStorage.setItem("flogsToken",n.editPassword.value),c({type:"success",title:"\u30fd(\u2022\u203f\u2022)\u30ce",message:"password changed"}),v(""),j(""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(_),c({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:_});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return i||m||void 0===o||(t=o.me.email),l.a.createElement("div",{className:"user-settings-wrapper"},l.a.createElement("div",{className:"user-header-wrapper"},l.a.createElement("h1",null,"account settings"),l.a.createElement(ge,{width:"100%"})),l.a.createElement("div",{className:"user-body-wrapper"},l.a.createElement("div",{className:"user-settings-item"},l.a.createElement("h2",null,"subscribe to be notified of updates"),l.a.createElement("div",{className:"user-subscribe-wrapper flex-row"},l.a.createElement("span",{className:"user-subscribe-label"},g?"on":"off"),l.a.createElement("label",{className:"user-unsubscribe-switch"},l.a.createElement("input",{onClick:function(){return p(!g)},value:g,type:"checkbox"}),l.a.createElement("span",{className:"user-unsubscribe-slider"})))),l.a.createElement("div",{className:"user-settings-item"},l.a.createElement("h2",null,"change email"),l.a.createElement("form",{onSubmit:Q},l.a.createElement("input",{value:t,type:"email",disabled:!0}),l.a.createElement("input",{value:D,onChange:function(e){var t=e.target;return C(t.value)},placeholder:"new@email.com",type:"email",minLength:3,required:!0}),l.a.createElement("button",{type:"submit",className:"primary-btn"},"submit"))),l.a.createElement("div",{className:"user-settings-item"},l.a.createElement("h2",null,"change password"),l.a.createElement("form",{onSubmit:G},l.a.createElement("input",{value:E,onChange:function(e){var t=e.target;return v(t.value)},placeholder:"old password",type:"password",minLength:3,required:!0}),l.a.createElement("input",{value:y,onChange:function(e){var t=e.target;return j(t.value)},placeholder:"new password",type:"password",minLength:3,required:!0}),l.a.createElement("button",{type:"submit",className:"primary-btn"},"submit")))))},at=function(e){var t,a,n,r,c,o,i,s,m=e.userData,u=e.userLoading,d=e.userError;return d||u||void 0===m||(r=m.userDetail.name,c=new Intl.DateTimeFormat("en-GB").format(m.userDetail.createdDate),o=m.userDetail.blogs,i=m.userDetail.comments,s=m.userDetail.userType,t={comments:m.userDetail.comments},a={blogs:m.userDetail.blogs},n={blogs:m.userDetail.savedBlogs}),l.a.createElement("div",{className:"user-summary-wrapper"},l.a.createElement("div",{className:"user-header-wrapper"},l.a.createElement("h1",null,"account summary"),l.a.createElement(ge,{width:"100%"})),l.a.createElement("div",{className:"user-body-wrapper"},l.a.createElement("div",{className:"w100 user-subheader-wrapper"},l.a.createElement("div",null,l.a.createElement("h2",null,r)),l.a.createElement("div",null,"member since: ",l.a.createElement("b",null,c)),l.a.createElement("div",null,"account type: ",l.a.createElement("b",null,s)),l.a.createElement("div",null,"total blogs: ",l.a.createElement("b",null,o.length)),l.a.createElement("div",null,"total comments: ",l.a.createElement("b",null,i.length))),l.a.createElement("div",{className:"featured-lists-wrapper"},l.a.createElement(De,{title:"saved blogs",dataObject:n,loading:u,error:d}),l.a.createElement(De,{title:"blogs written",dataObject:a,loading:u,error:d}),l.a.createElement(De,{title:"comments",dataObject:t,loading:u,error:d}))))},nt=(a(125),function(){var e=Object(ee.h)().id,t=Object(m.a)(A,{variables:{userId:e}}),a=t.data,n=t.error,c=t.loading,o=t.refetch;return Object(r.useEffect)((function(){o()}),[e]),l.a.createElement("section",{className:"w100 h100 user-section flex-col-center"},c||n?l.a.createElement(l.a.Fragment,null,c&&l.a.createElement("div",{className:"loader-spinner"},"loading..."),n&&l.a.createElement("div",null,"error loading user data...")):l.a.createElement(l.a.Fragment,null,l.a.createElement(tt,{id:e}),l.a.createElement(at,{userData:a,userError:n,userLoading:c})))});function rt(){var e=Object(d.a)(["\n  mutation subscribe($email: String!) {\n    subscribe(email: $email) {\n      email\n    }\n  }\n"]);return rt=function(){return e},e}var lt=Object(g.a)(rt()),ct=(a(126),function(e){var t=e.type,a=Object(r.useState)({}),c=Object(s.a)(a,2),o=c[0],i=c[1],m=Object(r.useContext)(Z).setNotification,u=Object(ve.a)(lt),d=Object(s.a)(u,2),g=d[0],p=d[1].loading,f=function(){var e=Object(Ee.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,g({variables:o});case 4:m({type:"success",title:"\u30fd(\u30c5)\u30ce",message:"subscribed"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),m({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"subscription failed"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"subscribe-box subscribe-box-".concat(t)},l.a.createElement("div",{className:"subscribe-header subscribe-header-".concat(t)},"subscribe to be notified of updates"),l.a.createElement("form",{onSubmit:f,className:"flex-col-center subscribe-form subscribe-form-".concat(t)},p?l.a.createElement("div",{className:"loader-spinner"},"loading..."):l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{className:"subscribe-form-input",name:"email",placeholder:"your@email.com",type:"email",maxLength:"255",onChange:function(e){i(Object(n.a)({},o,Object(Ke.a)({},e.target.name,e.target.value)))},required:!0}),l.a.createElement("button",{className:"subscribe-form-btn primary-btn",type:"submit"},"subscribe"))))}),ot=(a(127),function(){var e=Object(r.useContext)(Z).setNotification,t=Object(ee.g)(),a=function(e){t.push(e)};return l.a.createElement("footer",{className:"footer-section"},l.a.createElement("div",{className:"h100 m-auto footer-wrapper"},l.a.createElement("div",{className:"flex-1 h100 footer-col-left"},l.a.createElement("h4",{className:"footer-header",onClick:function(){return a("/")}},"flogs.me"),l.a.createElement("div",{className:"footer-info"},"made for your face")),l.a.createElement("div",{className:"flex-1 h100 flex-row-center footer-col-right"},l.a.createElement("div",{className:"flex-col-center footer-right-wrapper"},l.a.createElement(ct,{type:"footer"}),l.a.createElement("div",{className:"p10 w100"},l.a.createElement("div",{className:"w100 flex-row-center"},l.a.createElement("div",{title:"Twitter",onClick:function(t){t.preventDefault(),e({type:"fail",title:"\xaf\\_(\u30c4)_/\xaf",message:"twitter NAH"})},className:"footer-icon twitter-icon"}),l.a.createElement("div",{title:"GitHub",onClick:function(e){e.preventDefault();var t=window.open("https://github.com/jdalton92/flogs.me","_blank");null!=t&&t.focus()},className:"footer-icon github-icon"}),l.a.createElement("div",{title:"Email",onClick:function(e){e.preventDefault(),a("/contact")},className:"footer-icon email-icon"})))))))}),it=(a(128),function(){var e=Object(r.useContext)(Z),t=e.meLoading,a=e.meData,n=e.meRefetch;return Object(r.useEffect)((function(){localStorage.getItem("flogsToken")&&n()}),[]),te.a.initialize("UA-158975814-4"),te.a.pageview(window.location.pathname+window.location.search),l.a.createElement(l.a.Fragment,null,l.a.createElement(X.a,null,l.a.createElement(ae,null),l.a.createElement(le,null),l.a.createElement(Ne,null),l.a.createElement(ee.d,null,l.a.createElement(ee.b,{exact:!0,path:"/",render:function(){return l.a.createElement(Ce,null)}}),l.a.createElement(ee.b,{exact:!0,path:"/money",render:function(){return l.a.createElement(qe,{topic:"money"})}}),l.a.createElement(ee.b,{path:"/lifestyle",render:function(){return l.a.createElement(qe,{topic:"lifestyle"})}}),l.a.createElement(ee.b,{path:"/other-shit",render:function(){return l.a.createElement(qe,{topic:"other-shit"})}}),l.a.createElement(ee.b,{path:"/blog/:slug",render:function(){return l.a.createElement(Je,null)}}),l.a.createElement(ee.b,{path:"/contact",render:function(){return l.a.createElement(Xe,null)}}),l.a.createElement(ee.b,{path:"/faq",render:function(){return l.a.createElement(et,null)}}),t||null===a.me?l.a.createElement(ee.a,{to:"/"}):l.a.createElement(ee.b,{path:"/blog-admin",render:function(){return l.a.createElement(Ve,null)}}),l.a.createElement(ee.b,{path:"/user/:id",render:function(){return l.a.createElement(nt,null)}}),l.a.createElement(ee.b,{render:function(){return l.a.createElement(ne,null)}})),l.a.createElement(ot,null)))}),st=Object(z.a)((function(e,t){var a=t.headers,r=localStorage.getItem("flogsToken");return{headers:Object(n.a)({},a,{authorization:r?"bearer ".concat(r):""})}})),mt=new J.a({uri:"https://flogs.me/graphql"}),ut=new K.a({cache:new V.a,link:st.concat(mt)});o.a.render(l.a.createElement(P.a,{client:ut},l.a.createElement(H,null,l.a.createElement(it,null))),document.getElementById("root"))},94:function(e,t,a){e.exports=a.p+"static/media/unhappy-stick-figure.b123b295.png"},95:function(e,t,a){e.exports=a.p+"static/media/happy-stick-figure.48ec2d4d.png"},96:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAvCAYAAAChd5n0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAZiS0dEAP8A/wD/oL2nkwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0wNi0yOVQxMjo0MTo1MSswODowMMni6bsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTYtMDQtMTZUMTU6MzE6MjgrMDg6MDAG9CwZAAAAVHRFWHRzdmc6YmFzZS11cmkAZmlsZTovLy9ob21lL2RiL3N2Z19pbmZvL3N2Zy8yYS9lZC8yYWVkMWQ3M2ZhYmIxNjhlYjVmMGI2NzJjNzg4OGZlZi5zdmdkur2pAAAEPklEQVRoQ9WZO0gzQRDHJ1GjIBFFFFRQDGhhYSM+CgWJNj4RS7XQxlJEEDsrK0EbQcFWtBREjSARTGljoQi+QGx8gKjx/b5v53aSu9tLzOMuX7wfjPff271zZ2d3by4HUoKZnJyUKisrJYfDITmdTqmpqUnyeDxUax4Jc+Ti4kICgLDmcrmopTnY8A+7senYbDZS4SkrK4Pj42MqGcNOR1NpaWkh9TsnJyewurpKJYPIcTEZvK3acI08Pj5Kl5eXUl5enqaupqaGrjKG6Y6cn59rOoqmJtTaMQPTp1aktVFQUEBK4efnh1T8mO7I7e0tqeg5PT0lFT+mO7K7u0uKk5+fT0qhqKiIFOfm5oZU/JjuyMrKCilOdXU1KYWMjAxSnK+vL1Lxk3BHOjs7SSm8vLyQ4mRmZpIyAC16U5ibm4tqRxLb4E5mFFMdETvY0NBANVrEdmZgmiP19fW6Dp6dnVGtgtfr1bRJT0+nGmOY4sjQ0JCmc2iY5Yaiv79f0667u5tqjGHYkZ6eHk3HAhYOsZ3P56MaY8Sd/bK8CSoqKuD+/p7OKBwdHUF5eTmVFJaWlqC3t5dKnK6uLvnJru6GmB0EytgmJycHGhsbgUVWPhcEHYmFra0tqa6uTjOqatvc3KSWelJTU0NeE68tLi7SnSkio6OjcHV1BewfBUcGj2g4Gnd3d7C3twcsIZTrwrGzswMsm6WSnmjeUWJlamoKRkZGANxut87TWA1T88/PTxyTX/ktkkbM7/dLOERYiJuFhQXo6+ujUmSWl5fh+voaUlJS6Iw2+8WoMZ+DMyMAltPS0mB/fx9mZmboLGdwcBBwOmm8i8Ywiuvr6zjISWF+fl7Tn5KSEsmGjqiTtrGxMXln+P7+BqfTCbOzs3B4eEi1qjmZRHDHLCwspBLlamJEHh4eyG8O2x419ePj41STPNg2rulTaWmp/g3x6emJFIctYlIcu930hDlm1tbWSHGam5vBzhykonUQHWHpUGJ+Dko0bPqT4sgRIR2WvxYxllmQUsjNzY09Iol4OseCx+MhxWEPWflouanFnl+kOK2trfJR50iyRzwSmFmrCToS6xpIpqMHBwekFKqqquSjpaaWuD6Ki4tJReHIX9q1REfa29tJWSwi29vbpDjqzxc6RyKlIMlaI/hyJ6KJiFVSFDEtwbdZNZZZI+L66OjoIMWxjCNiRALPjwCWWezi60VbWxspjs6RSIs5Ge8jXq+XlIL45UvXK/WPAojY8WQ4srGxQYpTW1tLSkG3a/n9fnh/f4fn52e5LH6EeXt7k49YH8rw20c4e319DWt4X9EQn88H09PTsg6AvzSK4Dyyxv6rAp8p2dnZVOL8/3likOHhYZ0TMllZWRgRS9jAwABbCaGx4Qd+/GCJ89vhcLD27IoQzw5cK+JGEIpQ14pE0wb5+PiQR9/tdsPExAS4XC6qEQH4BwrruGvB4vALAAAAAElFTkSuQmCC"},97:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAvCAMAAACWqWnGAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAY9QTFRF////3d3dWVlZFxcXBwcHDQ0NDg4ODw8PDAwMEBAQERERCwsLFhYW4eHhYWFhAAAAcHBw7+/vd3d3wMDA9/f39vb29fX19PT0f39/RUVF+Pj43t7eNzc3cnJyh4eHSUlJ7e3tAQEBu7u7hYWFR0dH6urq5ubmg4OD6enpm5ubUVFRWFhYSEhIBAQEoqKi7u7uAgICs7OzgoKC5+fnampqQEBAHh4eioqKSkpK1NTUzMzMgYGBAwMDJycnODg4vLy8gICA7OzsS0tLqKioZWVlWlpaISEhpqamfn5+UFBQ8vLyjY2NKCgokpKSiIiIHx8fmpqatbW1QkJCZmZmbW1tlZWVlpaWl5eXmJiYmZmZra2to6Oj8fHx+/v7FRUVycnJTU1NXl5eXV1dX19fYGBgXFxcdHR0paWlurq6vb29n5+fTk5OT09P2dnZwcHBUlJSQ0NDbm5u39/fPDw8PT09GRkZIyMjxcXFGxsbnp6e0NDQ/f394uLiNjY28/PzLi4usrKyJSUlIiIitra2BgYGJc7sPQAAAfdJREFUeJyV1flDEkEUB/BXISpI65GhVl4YWUGHeJQVFd5aeZUbqYSBUgIe3R5ppX+4783MLiMoM/v9Yd9zeR93dl1GAJ4LFy+5Kuy4rVRaqaqmeDzeGp8Qlw3tuLmo1ReGwUSdE8FJPXUNcIXSyHOVx88CTfh5M/hbrtnkOjY3oExacaANazvWDnaGbGc5EsCBLqw3LRK0L3debgnSbZHb2FQ5I3ewuaskIZmEsbmnJG0yoVu5r00eYH2ovHvoESQiSC/WPmekH+uAmjySCK3rsSMyqL4VeCKRp/w3PNMkQU6iqneylNC6nivIi1PkpcatMBKzyZBhf511yTAeR5yQMIzicUxFxnFoAuskI148BlVkCodevQ68qWdkGo8z5cHsnLzBhGGeytuZdwsY871pmvF4fOGDBBZLNqWlM/eqqAWWE8UfzfF1lkaIj9bP08mVTyupVHp1jU5nzhBhLj6La34pub/1VDaXy2KSyWR2goYy7HyegWrlA90orIsJ5d8ZYBPH0qzbIrGtFuAyxJv9lcQ3DQH2ur5LT65sChs0NaYOoa3gBzVx3YuwB/aTmhg2OS3yCyd/U1ODzY4WyVvrobqrRfZksq9F2GhQVJ9ymuUPjiYiB4faDwzgb+F9DmkS+Ff8pdHIfyGUL72Uo62K48Nz/+WcAM3XYmx8dPbiAAAAAElFTkSuQmCC"}},[[104,1,2]]]);
//# sourceMappingURL=main.f3cef68e.chunk.js.map